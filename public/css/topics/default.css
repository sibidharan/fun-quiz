/* ============================================
   DEFAULT THEME - Premium Cinematic Edition
   Versatile blue/purple magical learning wonderland
   Floating question marks, stars, sparkles, clouds
   Universal quiz theme for all unmapped topics
   ============================================ */

/* === LAYERED GRADIENT BACKGROUND === */
.theme-default .scene-background,
.scene-background:not([class*="theme-"]) {
    background:
        /* Top aurora shimmer */
        radial-gradient(ellipse 900px 500px at 50% 0%, rgba(138, 43, 226, 0.35) 0%, transparent 55%),
        /* Left magical glow */
        radial-gradient(ellipse 700px 700px at 0% 40%, rgba(0, 191, 255, 0.3) 0%, transparent 50%),
        /* Right dream mist */
        radial-gradient(ellipse 600px 600px at 100% 60%, rgba(255, 105, 180, 0.25) 0%, transparent 50%),
        /* Bottom knowledge glow */
        radial-gradient(ellipse 800px 400px at 50% 100%, rgba(124, 179, 66, 0.2) 0%, transparent 50%),
        /* Main gradient - magical sky journey */
        linear-gradient(180deg,
            #667EEA 0%,
            #764BA2 8%,
            #667EEA 15%,
            #5B7FDB 25%,
            #4E8CD6 35%,
            #4299D1 45%,
            #3AA6CC 55%,
            #6E5DC6 65%,
            #8854C0 75%,
            #A24BB9 85%,
            #BB42B3 95%,
            #D53AAD 100%);
    overflow: hidden;
    position: relative;
    animation: default-atmosphere-shift 45s ease-in-out infinite;
}

@keyframes default-atmosphere-shift {
    0%, 100% {
        filter: brightness(1) saturate(1) hue-rotate(0deg);
    }
    25% {
        filter: brightness(1.15) saturate(1.1) hue-rotate(5deg);
    }
    50% {
        filter: brightness(0.85) saturate(0.9) hue-rotate(-10deg);
    }
    75% {
        filter: brightness(1.05) saturate(1.05) hue-rotate(3deg);
    }
}

/* === MAGICAL GRID SHIMMER === */
.theme-default .scene-background::before,
.scene-background:not([class*="theme-"])::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.15) 0%, transparent 2%),
        radial-gradient(circle at 60% 20%, rgba(255, 255, 255, 0.12) 0%, transparent 2%),
        radial-gradient(circle at 80% 50%, rgba(255, 255, 255, 0.18) 0%, transparent 2%),
        radial-gradient(circle at 40% 70%, rgba(255, 255, 255, 0.14) 0%, transparent 2%),
        radial-gradient(circle at 15% 80%, rgba(255, 255, 255, 0.16) 0%, transparent 2%),
        radial-gradient(circle at 90% 85%, rgba(255, 255, 255, 0.13) 0%, transparent 2%);
    animation: default-grid-twinkle 10s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes default-grid-twinkle {
    0%, 100% {
        opacity: 0.7;
        transform: scale(1);
    }
    50% {
        opacity: 1;
        transform: scale(1.05);
    }
}

/* === AMBIENT LIGHT ORBS === */
.theme-default .scene-background::after,
.scene-background:not([class*="theme-"])::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        radial-gradient(circle 80px at 15% 25%, rgba(138, 43, 226, 0.2) 0%, transparent 70%),
        radial-gradient(circle 100px at 75% 35%, rgba(0, 191, 255, 0.18) 0%, transparent 70%),
        radial-gradient(circle 90px at 35% 65%, rgba(255, 105, 180, 0.16) 0%, transparent 70%),
        radial-gradient(circle 85px at 85% 75%, rgba(124, 179, 66, 0.15) 0%, transparent 70%);
    animation: default-orbs-pulse 14s ease-in-out infinite;
    pointer-events: none;
    z-index: 2;
}

@keyframes default-orbs-pulse {
    0%, 100% {
        opacity: 0.6;
        transform: scale(1);
    }
    50% {
        opacity: 1;
        transform: scale(1.2);
    }
}

/* === ELEMENT 1: FLOATING QUESTION MARK === */
.theme-default .elem-1 {
    position: absolute;
    top: 15%;
    left: 20%;
    width: 50px;
    height: 70px;
    z-index: 15;
    animation: default-question-float 7s ease-in-out infinite;
    pointer-events: none;
}

.theme-default .elem-1::before {
    content: '?';
    position: absolute;
    font-size: 60px;
    font-weight: bold;
    font-family: Arial, sans-serif;
    color: #FFF;
    text-shadow:
        0 0 20px rgba(138, 43, 226, 0.8),
        0 0 40px rgba(138, 43, 226, 0.5),
        2px 2px 8px rgba(0, 0, 0, 0.4);
    filter: drop-shadow(0 0 15px rgba(138, 43, 226, 0.7));
    animation: default-question-glow 3s ease-in-out infinite;
}

@keyframes default-question-float {
    0%, 100% {
        transform: translateY(0) rotate(-5deg);
    }
    50% {
        transform: translateY(-30px) rotate(5deg);
    }
}

@keyframes default-question-glow {
    0%, 100% {
        opacity: 0.8;
    }
    50% {
        opacity: 1;
    }
}

/* === ELEMENT 2: STAR CLUSTER === */
.theme-default .elem-2 {
    position: absolute;
    top: 25%;
    right: 15%;
    width: 100px;
    height: 100px;
    z-index: 14;
    animation: default-stars-twinkle 9s ease-in-out infinite;
    pointer-events: none;
}

.theme-default .elem-2::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        radial-gradient(circle 5px at 20% 30%, #FFF 60%, transparent 61%),
        radial-gradient(circle 7px at 50% 20%, #FFEB3B 60%, transparent 61%),
        radial-gradient(circle 4px at 70% 50%, #FFF 60%, transparent 61%),
        radial-gradient(circle 6px at 35% 70%, #81D4FA 60%, transparent 61%),
        radial-gradient(circle 5px at 80% 80%, #FFF 60%, transparent 61%);
    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.8));
}

/* Star rays */
.theme-default .elem-2::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        linear-gradient(0deg, transparent 49%, rgba(255, 255, 255, 0.4) 50%, transparent 51%),
        linear-gradient(45deg, transparent 49%, rgba(255, 255, 255, 0.3) 50%, transparent 51%),
        linear-gradient(90deg, transparent 49%, rgba(255, 255, 255, 0.4) 50%, transparent 51%),
        linear-gradient(135deg, transparent 49%, rgba(255, 255, 255, 0.3) 50%, transparent 51%);
    background-position: 50% 20%, 50% 20%, 50% 20%, 50% 20%;
    background-size: 50px 50px, 50px 50px, 50px 50px, 50px 50px;
    animation: default-star-rays 8s linear infinite;
}

@keyframes default-stars-twinkle {
    0%, 100% {
        transform: scale(1) rotate(0deg);
        opacity: 0.8;
    }
    50% {
        transform: scale(1.2) rotate(15deg);
        opacity: 1;
    }
}

@keyframes default-star-rays {
    0% { opacity: 0.7; }
    50% { opacity: 1; }
    100% { opacity: 0.7; }
}

/* === ELEMENT 3: MAGIC BOOK === */
.theme-default .elem-3 {
    position: absolute;
    bottom: 30%;
    left: 15%;
    width: 55px;
    height: 40px;
    z-index: 13;
    animation: default-book-levitate 8.5s ease-in-out infinite;
    pointer-events: none;
}

/* Book cover */
.theme-default .elem-3::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        /* Book spine detail */
        linear-gradient(90deg, transparent 0%, transparent 8%, rgba(0, 0, 0, 0.3) 9%, rgba(0, 0, 0, 0.3) 10%, transparent 11%),
        /* Cover gradient */
        linear-gradient(135deg, #7B1FA2 0%, #9C27B0 40%, #AB47BC 100%);
    border-radius: 4px 10px 10px 4px;
    box-shadow:
        -4px 0 0 #4A148C,
        0 5px 15px rgba(0, 0, 0, 0.4),
        inset 2px 2px 8px rgba(255, 255, 255, 0.2);
    filter: drop-shadow(0 0 10px rgba(156, 39, 176, 0.5));
}

/* Book pages */
.theme-default .elem-3::after {
    content: '';
    position: absolute;
    width: 88%;
    height: 82%;
    top: 9%;
    left: 12%;
    background:
        repeating-linear-gradient(0deg,
            #FFFDE7 0px,
            #FFFDE7 2.5px,
            #FFF9C4 2.5px,
            #FFF9C4 5px);
    border-radius: 0 4px 4px 0;
    box-shadow: inset -1px 0 2px rgba(0, 0, 0, 0.2);
}

@keyframes default-book-levitate {
    0%, 100% {
        transform: translateY(0) rotate(-8deg);
    }
    50% {
        transform: translateY(-35px) rotate(8deg);
    }
}

/* === ELEMENT 4: SPARKLE WAND === */
.theme-default .elem-4 {
    position: absolute;
    top: 40%;
    right: 20%;
    width: 70px;
    height: 70px;
    z-index: 12;
    animation: default-wand-swing 6s ease-in-out infinite;
    pointer-events: none;
}

/* Wand stick */
.theme-default .elem-4::before {
    content: '';
    position: absolute;
    width: 10px;
    height: 55px;
    background: linear-gradient(180deg, #5D4037 0%, #8D6E63 40%, #A1887F 100%);
    border-radius: 3px;
    transform: rotate(-35deg);
    transform-origin: bottom center;
    box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
}

/* Wand star tip */
.theme-default .elem-4::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    top: -3px;
    left: 18px;
    background:
        linear-gradient(0deg, transparent 48%, #FFD700 50%, transparent 52%),
        linear-gradient(90deg, transparent 48%, #FFD700 50%, transparent 52%),
        linear-gradient(45deg, transparent 48%, #FFC107 50%, transparent 52%),
        linear-gradient(135deg, transparent 48%, #FFC107 50%, transparent 52%),
        radial-gradient(circle, #FFEB3B 0%, #FFD700 60%, transparent 70%);
    border-radius: 50%;
    box-shadow:
        0 0 15px #FFD700,
        0 0 30px #FFC107,
        0 0 45px rgba(255, 193, 7, 0.5);
    animation: default-wand-sparkle 2s ease-in-out infinite;
}

@keyframes default-wand-swing {
    0%, 100% {
        transform: rotate(0deg);
    }
    25% {
        transform: rotate(20deg);
    }
    75% {
        transform: rotate(-20deg);
    }
}

@keyframes default-wand-sparkle {
    0%, 100% {
        transform: scale(1) rotate(0deg);
        opacity: 0.9;
    }
    50% {
        transform: scale(1.3) rotate(180deg);
        opacity: 1;
    }
}

/* === ELEMENT 5: GLOWING LIGHTBULB === */
.theme-default .elem-5 {
    position: absolute;
    bottom: 35%;
    right: 12%;
    width: 40px;
    height: 55px;
    z-index: 11;
    animation: default-idea-pulse 5.5s ease-in-out infinite;
    pointer-events: none;
}

/* Bulb glass */
.theme-default .elem-5::before {
    content: '';
    position: absolute;
    width: 40px;
    height: 40px;
    background:
        radial-gradient(circle at 28% 25%, rgba(255, 255, 255, 0.8) 0%, transparent 25%),
        radial-gradient(circle at 50% 50%, #FFF9C4 0%, #FFEB3B 40%, #FFC107 100%);
    border-radius: 50% 50% 47% 47%;
    box-shadow:
        0 0 25px rgba(255, 235, 59, 0.7),
        0 0 50px rgba(255, 193, 7, 0.4),
        inset 6px 6px 12px rgba(255, 255, 255, 0.4);
    filter: drop-shadow(0 0 12px rgba(255, 235, 59, 0.6));
}

/* Bulb base */
.theme-default .elem-5::after {
    content: '';
    position: absolute;
    width: 22px;
    height: 18px;
    bottom: 0;
    left: 9px;
    background:
        repeating-linear-gradient(0deg,
            #B0BEC5 0px,
            #B0BEC5 3.5px,
            #90A4AE 3.5px,
            #90A4AE 7px);
    border-radius: 0 0 6px 6px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

@keyframes default-idea-pulse {
    0%, 100% {
        transform: translateY(0) scale(1);
        filter: brightness(1);
    }
    50% {
        transform: translateY(-22px) scale(1.1);
        filter: brightness(1.4);
    }
}

/* === FLOATING CLOUDS === */
.theme-default .clouds-layer {
    position: absolute;
    width: 200%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 3;
}

.theme-default .clouds-layer::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        /* Cloud 1 */
        radial-gradient(ellipse 70px 35px at 12% 22%, rgba(255, 255, 255, 0.7) 50%, transparent 51%),
        radial-gradient(ellipse 50px 30px at 16% 24%, rgba(255, 255, 255, 0.6) 50%, transparent 51%),
        radial-gradient(ellipse 40px 25px at 8% 20%, rgba(255, 255, 255, 0.5) 50%, transparent 51%),
        /* Cloud 2 */
        radial-gradient(ellipse 80px 40px at 38% 18%, rgba(255, 255, 255, 0.65) 50%, transparent 51%),
        radial-gradient(ellipse 55px 33px at 43% 20%, rgba(255, 255, 255, 0.55) 50%, transparent 51%),
        /* Cloud 3 */
        radial-gradient(ellipse 65px 32px at 68% 28%, rgba(255, 255, 255, 0.6) 50%, transparent 51%),
        radial-gradient(ellipse 45px 27px at 63% 26%, rgba(255, 255, 255, 0.5) 50%, transparent 51%),
        /* Cloud 4 */
        radial-gradient(ellipse 75px 37px at 88% 20%, rgba(255, 255, 255, 0.7) 50%, transparent 51%),
        radial-gradient(ellipse 50px 30px at 93% 22%, rgba(255, 255, 255, 0.6) 50%, transparent 51%);
    animation: default-clouds-drift 55s linear infinite;
}

@keyframes default-clouds-drift {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}

/* === SPARKLE PARTICLES === */
.theme-default .sparkle-particles {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 10;
}

.theme-default .sparkle-particles::before {
    content: '';
    position: absolute;
    width: 3px;
    height: 3px;
    border-radius: 50%;
    box-shadow:
        10% 18% 0 2px rgba(255, 255, 255, 0.8),
        25% 35% 0 1px rgba(255, 235, 59, 0.7),
        42% 22% 0 2px rgba(255, 255, 255, 0.75),
        58% 48% 0 1px rgba(0, 191, 255, 0.7),
        72% 28% 0 2px rgba(255, 255, 255, 0.8),
        85% 58% 0 1px rgba(255, 105, 180, 0.7),
        18% 72% 0 2px rgba(255, 235, 59, 0.75),
        35% 88% 0 1px rgba(255, 255, 255, 0.7),
        55% 12% 0 2px rgba(0, 191, 255, 0.8),
        68% 82% 0 1px rgba(255, 255, 255, 0.75),
        88% 42% 0 2px rgba(255, 105, 180, 0.7),
        32% 58% 0 1px rgba(255, 235, 59, 0.8),
        48% 68% 0 2px rgba(255, 255, 255, 0.75),
        65% 38% 0 1px rgba(0, 191, 255, 0.7),
        78% 65% 0 2px rgba(255, 105, 180, 0.8);
    animation: default-sparkles-shimmer 6s ease-in-out infinite;
}

@keyframes default-sparkles-shimmer {
    0%, 100% {
        opacity: 0.5;
        transform: scale(1) translateY(0);
    }
    50% {
        opacity: 1;
        transform: scale(1.5) translateY(-15px);
    }
}

/* === MAGIC TRAILS === */
.theme-default .magic-trails {
    position: absolute;
    top: 40%;
    right: 20%;
    width: 70px;
    height: 70px;
    pointer-events: none;
    z-index: 11;
}

.theme-default .magic-trails::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        radial-gradient(circle 4px at 20% 30%, rgba(138, 43, 226, 0.6) 50%, transparent 51%),
        radial-gradient(circle 3px at 40% 50%, rgba(0, 191, 255, 0.5) 50%, transparent 51%),
        radial-gradient(circle 5px at 60% 35%, rgba(255, 105, 180, 0.6) 50%, transparent 51%),
        radial-gradient(circle 3px at 80% 60%, rgba(138, 43, 226, 0.5) 50%, transparent 51%);
    animation: default-trails-swirl 6s ease-in-out infinite;
}

@keyframes default-trails-swirl {
    0% {
        transform: scale(1);
        opacity: 0.7;
    }
    50% {
        transform: scale(1.4);
        opacity: 1;
    }
    100% {
        transform: scale(1);
        opacity: 0.7;
    }
}

/* === KNOWLEDGE AURA === */
.theme-default .knowledge-aura {
    position: absolute;
    bottom: 30%;
    left: 15%;
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(123, 31, 162, 0.3) 0%, transparent 70%);
    animation: default-aura-expand 8.5s ease-out infinite;
    pointer-events: none;
    z-index: 7;
}

@keyframes default-aura-expand {
    0% {
        transform: scale(0.6);
        opacity: 0;
    }
    50% {
        transform: scale(1.2);
        opacity: 0.8;
    }
    100% {
        transform: scale(2);
        opacity: 0;
    }
}

/* === FLOATING AMBIENT PARTICLES === */
.theme-default .ambient-particles {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 4;
}

.theme-default .ambient-particles::before {
    content: '';
    position: absolute;
    width: 2px;
    height: 2px;
    border-radius: 50%;
    box-shadow:
        15% 28% 0 1px rgba(138, 43, 226, 0.4),
        32% 52% 0 1px rgba(0, 191, 255, 0.35),
        48% 18% 0 1px rgba(255, 105, 180, 0.4),
        65% 72% 0 1px rgba(138, 43, 226, 0.35),
        78% 38% 0 1px rgba(0, 191, 255, 0.4),
        88% 68% 0 1px rgba(255, 105, 180, 0.35),
        22% 82% 0 1px rgba(138, 43, 226, 0.4),
        42% 45% 0 1px rgba(0, 191, 255, 0.35),
        58% 15% 0 1px rgba(255, 105, 180, 0.4),
        72% 88% 0 1px rgba(138, 43, 226, 0.35),
        25% 58% 0 1px rgba(0, 191, 255, 0.4),
        52% 35% 0 1px rgba(255, 105, 180, 0.35);
    animation: default-ambient-drift 18s linear infinite;
}

@keyframes default-ambient-drift {
    0% {
        transform: translateY(0);
        opacity: 0.5;
    }
    100% {
        transform: translateY(150px);
        opacity: 0.1;
    }
}

/* === MASCOT HAPPY ANIMATIONS === */
.theme-default .worm-character.happy,
.theme-default .bunny-character.happy,
.theme-default .owl-character.happy,
.theme-default .cat-character.happy,
.theme-default .robot-character.happy {
    animation: default-happy-magic 2.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes default-happy-magic {
    0% {
        transform: scale(1) rotate(0deg) translateY(0);
        filter: brightness(1);
    }
    15% {
        transform: scale(1.05) rotate(-12deg) translateY(-5px);
    }
    35% {
        transform: scale(1.4) rotate(12deg) translateY(-50px);
        filter: brightness(1.4) drop-shadow(0 0 25px rgba(138, 43, 226, 0.8));
    }
    50% {
        transform: scale(1.32) rotate(-8deg) translateY(-45px);
    }
    65% {
        transform: scale(1.22) rotate(10deg) translateY(-35px);
    }
    80% {
        transform: scale(1.12) rotate(-5deg) translateY(-18px);
    }
    100% {
        transform: scale(1) rotate(0deg) translateY(0);
        filter: brightness(1);
    }
}

/* === MASCOT EXCITED ANIMATIONS === */
.theme-default .worm-character.excited,
.theme-default .bunny-character.excited,
.theme-default .owl-character.excited,
.theme-default .cat-character.excited,
.theme-default .robot-character.excited {
    animation: default-excited-sparkle 2s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
}

@keyframes default-excited-sparkle {
    0%, 100% {
        transform: translateY(0) rotate(0deg) scale(1);
        filter: hue-rotate(0deg) brightness(1);
    }
    25% {
        transform: translateY(-28px) rotate(-10deg) scale(1.15);
        filter: hue-rotate(30deg) brightness(1.3);
    }
    50% {
        transform: translateY(-20px) rotate(8deg) scale(1.12);
        filter: hue-rotate(-30deg) brightness(1.4);
    }
    75% {
        transform: translateY(-32px) rotate(12deg) scale(1.18);
        filter: hue-rotate(20deg) brightness(1.3);
    }
}

/* === MASCOT SAD ANIMATIONS === */
.theme-default .worm-character.sad,
.theme-default .bunny-character.sad,
.theme-default .owl-character.sad,
.theme-default .cat-character.sad,
.theme-default .robot-character.sad {
    animation: default-sad-fade 2.5s ease-out forwards;
}

@keyframes default-sad-fade {
    0% {
        transform: scale(1) translateY(0);
        filter: brightness(1) saturate(1);
    }
    25% {
        transform: scale(0.94) translateX(-4px) translateY(5px);
        filter: brightness(0.82) saturate(0.7);
    }
    50% {
        transform: scale(0.86) translateX(4px) translateY(12px);
        filter: brightness(0.68) saturate(0.5);
    }
    75% {
        transform: scale(0.8) translateX(-2px) translateY(18px);
        filter: brightness(0.55) saturate(0.35);
    }
    100% {
        transform: scale(0.75) translateY(24px);
        filter: brightness(0.42) saturate(0.25) grayscale(0.4);
    }
}
