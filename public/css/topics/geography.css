/* ============================================
   GEOGRAPHY THEME - JULIA MIOCENE STYLE
   Majestic Mountain Landscape with River Valley
   Mountains | Forest | Hot Air Balloon | Globe
   ============================================ */

:root {
    /* Sky colors - Dawn */
    --geo-sky-top: #4A90E2;
    --geo-sky-mid: #7BB8EE;
    --geo-sky-light: #B8E5FC;
    --geo-sky-horizon: #FFE0B2;
    --geo-sky-glow: #FF9800;

    /* Mountain colors - Atmospheric perspective */
    --geo-mountain-far: rgba(78, 52, 46, 0.4);
    --geo-mountain-mid: #5D4037;
    --geo-mountain-near: #795548;
    --geo-mountain-light: #8D6E63;
    --geo-snow: rgba(255, 255, 255, 0.9);

    /* Forest colors */
    --geo-tree-dark: #1B5E20;
    --geo-tree-mid: #2E7D32;
    --geo-tree-light: #388E3C;

    /* Water colors */
    --geo-water-light: #64B5F6;
    --geo-water-mid: #42A5F5;
    --geo-water-dark: #1E88E5;

    /* Ground colors */
    --geo-ground-light: #A1887F;
    --geo-ground-dark: #6D4C41;

    /* Accent colors */
    --geo-sun: #FFEB3B;
    --geo-sun-glow: #FFC107;
    --geo-balloon-red: #E53935;
    --geo-balloon-yellow: #FDD835;
    --geo-balloon-green: #43A047;
    --geo-balloon-blue: #1E88E5;
}

/* === BASE SCENE SETUP === */
.theme-geography .scene-background {
    background: linear-gradient(180deg,
        var(--geo-sky-top) 0%,
        var(--geo-sky-mid) 20%,
        var(--geo-sky-light) 35%,
        var(--geo-sky-horizon) 50%,
        var(--geo-sky-glow) 58%,
        var(--geo-ground-light) 65%,
        var(--geo-ground-dark) 100%);
    overflow: hidden;
    position: relative;
}

/* Universal element setup - Miocene style */
.theme-geography .scene-background *,
.theme-geography .scene-background *::before,
.theme-geography .scene-background *::after {
    content: '';
    position: absolute;
}

/* === SUN with rays (scene pseudo-element) === */
.theme-geography .scene-background::before {
    top: 5%;
    right: 12%;
    width: 60px;
    height: 60px;
    background: radial-gradient(circle,
        #FFF9C4 0%,
        var(--geo-sun) 30%,
        var(--geo-sun-glow) 60%,
        transparent 70%);
    border-radius: 50%;
    box-shadow:
        0 0 40px 20px rgba(255, 235, 59, 0.6),
        0 0 80px 40px rgba(255, 193, 7, 0.4),
        0 0 120px 60px rgba(255, 152, 0, 0.2),
        /* Sun rays using box-shadow */
        80px 0 0 -28px var(--geo-sun-glow),
        -80px 0 0 -28px var(--geo-sun-glow),
        0 80px 0 -28px var(--geo-sun-glow),
        0 -80px 0 -28px var(--geo-sun-glow),
        56px 56px 0 -29px rgba(255, 193, 7, 0.6),
        -56px 56px 0 -29px rgba(255, 193, 7, 0.6),
        56px -56px 0 -29px rgba(255, 193, 7, 0.6),
        -56px -56px 0 -29px rgba(255, 193, 7, 0.6);
    animation: geo-sun-pulse 8s ease-in-out infinite;
    z-index: 5;
}

@keyframes geo-sun-pulse {
    0%, 100% {
        transform: scale(1);
        box-shadow:
            0 0 40px 20px rgba(255, 235, 59, 0.6),
            0 0 80px 40px rgba(255, 193, 7, 0.4),
            0 0 120px 60px rgba(255, 152, 0, 0.2),
            80px 0 0 -28px var(--geo-sun-glow),
            -80px 0 0 -28px var(--geo-sun-glow),
            0 80px 0 -28px var(--geo-sun-glow),
            0 -80px 0 -28px var(--geo-sun-glow),
            56px 56px 0 -29px rgba(255, 193, 7, 0.6),
            -56px 56px 0 -29px rgba(255, 193, 7, 0.6),
            56px -56px 0 -29px rgba(255, 193, 7, 0.6),
            -56px -56px 0 -29px rgba(255, 193, 7, 0.6);
    }
    50% {
        transform: scale(1.1);
        box-shadow:
            0 0 50px 25px rgba(255, 235, 59, 0.8),
            0 0 100px 50px rgba(255, 193, 7, 0.5),
            0 0 150px 75px rgba(255, 152, 0, 0.3),
            90px 0 0 -26px var(--geo-sun-glow),
            -90px 0 0 -26px var(--geo-sun-glow),
            0 90px 0 -26px var(--geo-sun-glow),
            0 -90px 0 -26px var(--geo-sun-glow),
            64px 64px 0 -27px rgba(255, 193, 7, 0.7),
            -64px 64px 0 -27px rgba(255, 193, 7, 0.7),
            64px -64px 0 -27px rgba(255, 193, 7, 0.7),
            -64px -64px 0 -27px rgba(255, 193, 7, 0.7);
    }
}

/* === ATMOSPHERIC PARTICLES === */
.theme-geography .scene-background::after {
    top: 10%;
    left: 5%;
    width: 3px;
    height: 3px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 50%;
    box-shadow:
        50px 30px 0 0 rgba(255, 255, 255, 0.7),
        120px -10px 0 0 rgba(255, 255, 255, 0.6),
        200px 40px 0 0 rgba(255, 255, 255, 0.7),
        300px 15px 0 0 rgba(255, 255, 255, 0.65),
        400px -20px 0 0 rgba(255, 255, 255, 0.7),
        500px 35px 0 0 rgba(255, 255, 255, 0.6),
        80px 80px 0 0 rgba(255, 255, 255, 0.65),
        180px 60px 0 0 rgba(255, 255, 255, 0.7),
        280px 90px 0 0 rgba(255, 255, 255, 0.6),
        380px 70px 0 0 rgba(255, 255, 255, 0.7),
        480px 50px 0 0 rgba(255, 255, 255, 0.65);
    animation: geo-particles-float 10s ease-in-out infinite;
    z-index: 20;
}

@keyframes geo-particles-float {
    0%, 100% {
        transform: translateY(0);
        opacity: 0.5;
    }
    50% {
        transform: translateY(-20px);
        opacity: 0.9;
    }
}

/* === ULTRA DISTANT MOUNTAINS (elem-0-ultra) === */
.theme-geography .elem-0-ultra {
    bottom: 45%;
    left: 0;
    width: 0;
    height: 0;
    border-left: 100px solid transparent;
    border-right: 100px solid transparent;
    border-bottom: 80px solid var(--geo-mountain-far);
    z-index: 2;
    opacity: 0.5;
}

.theme-geography .elem-0-ultra::before {
    bottom: -80px;
    left: -100px;
    width: 0;
    height: 0;
    border-left: 80px solid transparent;
    border-right: 80px solid transparent;
    border-bottom: 65px solid var(--geo-mountain-far);
    transform: translateX(180px);
}

.theme-geography .elem-0-ultra::after {
    bottom: -80px;
    left: -100px;
    width: 0;
    height: 0;
    border-left: 90px solid transparent;
    border-right: 90px solid transparent;
    border-bottom: 70px solid var(--geo-mountain-far);
    transform: translateX(400px);
}

/* === FAR MOUNTAINS (elem-0-far) === */
.theme-geography .elem-0-far {
    bottom: 40%;
    right: 5%;
    width: 0;
    height: 0;
    border-left: 120px solid transparent;
    border-right: 120px solid transparent;
    border-bottom: 100px solid rgba(93, 64, 55, 0.5);
    z-index: 3;
}

.theme-geography .elem-0-far::before {
    bottom: -100px;
    left: -180px;
    width: 0;
    height: 0;
    border-left: 100px solid transparent;
    border-right: 100px solid transparent;
    border-bottom: 85px solid rgba(93, 64, 55, 0.45);
}

.theme-geography .elem-0-far::after {
    bottom: -100px;
    left: -350px;
    width: 0;
    height: 0;
    border-left: 110px solid transparent;
    border-right: 110px solid transparent;
    border-bottom: 90px solid rgba(93, 64, 55, 0.5);
}

/* === MID-RANGE MOUNTAINS (elem-1) === */
.theme-geography .elem-1 {
    bottom: 35%;
    left: 10%;
    z-index: 4;
}

/* Main mountain with snow cap */
.theme-geography .elem-1::before {
    bottom: 0;
    left: 0;
    width: 0;
    height: 0;
    border-left: 150px solid transparent;
    border-right: 150px solid transparent;
    border-bottom: 130px solid var(--geo-mountain-mid);
    box-shadow:
        /* Adjacent peaks */
        200px 10px 0 -20px var(--geo-mountain-mid),
        380px 5px 0 -10px var(--geo-mountain-mid);
}

/* Snow caps */
.theme-geography .elem-1::after {
    bottom: 130px;
    left: 150px;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 40px solid transparent;
    border-right: 40px solid transparent;
    border-bottom: 35px solid var(--geo-snow);
    box-shadow:
        200px -20px 0 -8px var(--geo-snow),
        380px -25px 0 -5px var(--geo-snow);
    filter: blur(1px);
}

/* === FOREGROUND MOUNTAINS (elem-1-fg) === */
.theme-geography .elem-1-fg {
    bottom: 30%;
    left: 35%;
    z-index: 5;
}

/* Prominent foreground peak */
.theme-geography .elem-1-fg::before {
    bottom: 0;
    left: 0;
    width: 0;
    height: 0;
    border-left: 180px solid transparent;
    border-right: 180px solid transparent;
    border-bottom: 160px solid var(--geo-mountain-near);
    filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
}

/* Large snow cap */
.theme-geography .elem-1-fg::after {
    bottom: 160px;
    left: 180px;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 55px solid transparent;
    border-right: 55px solid transparent;
    border-bottom: 50px solid var(--geo-snow);
    box-shadow:
        0 0 10px 5px rgba(255, 255, 255, 0.5);
}

/* === RIVER VALLEY (elem-2) === */
.theme-geography .elem-2 {
    bottom: 15%;
    left: 0;
    width: 100%;
    height: 80px;
    z-index: 6;
}

/* River main flow */
.theme-geography .elem-2::before {
    bottom: 0;
    left: -5%;
    width: 110%;
    height: 50px;
    background: linear-gradient(180deg,
        var(--geo-water-light) 0%,
        var(--geo-water-mid) 50%,
        var(--geo-water-dark) 100%);
    border-radius: 100% 100% 0 0 / 25px 25px 0 0;
    box-shadow:
        inset 0 5px 15px rgba(255, 255, 255, 0.3),
        0 -5px 20px rgba(30, 136, 229, 0.3);
    animation: geo-river-flow 3s ease-in-out infinite;
}

/* River sparkles */
.theme-geography .elem-2::after {
    bottom: 35px;
    left: 10%;
    width: 4px;
    height: 4px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    box-shadow:
        40px 5px 0 0 rgba(255, 255, 255, 0.8),
        90px -3px 0 0 rgba(255, 255, 255, 0.9),
        150px 8px 0 0 rgba(255, 255, 255, 0.8),
        210px 2px 0 0 rgba(255, 255, 255, 0.85),
        280px -5px 0 0 rgba(255, 255, 255, 0.9),
        350px 6px 0 0 rgba(255, 255, 255, 0.8),
        420px -2px 0 0 rgba(255, 255, 255, 0.85),
        500px 4px 0 0 rgba(255, 255, 255, 0.9),
        580px -4px 0 0 rgba(255, 255, 255, 0.8);
    animation: geo-sparkle 2s ease-in-out infinite;
}

@keyframes geo-river-flow {
    0%, 100% { transform: scaleX(1) translateX(0); }
    50% { transform: scaleX(1.02) translateX(1%); }
}

@keyframes geo-sparkle {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}

/* === WATERFALL (elem-3) === */
.theme-geography .elem-3 {
    bottom: 30%;
    right: 22%;
    z-index: 5;
}

/* Waterfall cascade */
.theme-geography .elem-3::before {
    top: 0;
    left: 0;
    width: 25px;
    height: 90px;
    background: linear-gradient(180deg,
        rgba(255, 255, 255, 0.95) 0%,
        rgba(179, 229, 252, 0.8) 30%,
        rgba(100, 181, 246, 0.7) 60%,
        rgba(66, 165, 245, 0.6) 100%);
    border-radius: 5px 5px 0 0;
    box-shadow:
        8px 0 0 -3px rgba(255, 255, 255, 0.7),
        -8px 0 0 -3px rgba(255, 255, 255, 0.7);
    animation: geo-waterfall 1s ease-in-out infinite;
}

/* Waterfall mist */
.theme-geography .elem-3::after {
    bottom: -20px;
    left: -15px;
    width: 55px;
    height: 30px;
    background: radial-gradient(ellipse at 50% 50%,
        rgba(255, 255, 255, 0.6) 0%,
        rgba(224, 247, 250, 0.4) 40%,
        transparent 70%);
    filter: blur(3px);
    animation: geo-mist 2s ease-in-out infinite;
}

@keyframes geo-waterfall {
    0%, 100% { opacity: 0.9; }
    50% { opacity: 1; }
}

@keyframes geo-mist {
    0%, 100% {
        transform: scale(1) translateY(0);
        opacity: 0.6;
    }
    50% {
        transform: scale(1.2) translateY(-5px);
        opacity: 0.9;
    }
}

/* === PINE FOREST (elem-4) === */
.theme-geography .elem-4 {
    bottom: 22%;
    left: 0;
    width: 100%;
    z-index: 7;
}

/* Forest row 1 - distant */
.theme-geography .elem-4::before {
    bottom: 0;
    left: 5%;
    width: 0;
    height: 0;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-bottom: 50px solid var(--geo-tree-dark);
    box-shadow:
        35px 8px 0 0 var(--geo-tree-dark),
        70px 3px 0 0 var(--geo-tree-dark),
        105px 10px 0 0 var(--geo-tree-dark),
        145px 5px 0 0 var(--geo-tree-dark),
        180px 12px 0 0 var(--geo-tree-dark),
        220px 6px 0 0 var(--geo-tree-dark),
        260px 9px 0 0 var(--geo-tree-dark),
        300px 4px 0 0 var(--geo-tree-dark),
        340px 11px 0 0 var(--geo-tree-dark),
        385px 7px 0 0 var(--geo-tree-dark),
        430px 3px 0 0 var(--geo-tree-dark),
        475px 10px 0 0 var(--geo-tree-dark),
        520px 6px 0 0 var(--geo-tree-dark),
        565px 8px 0 0 var(--geo-tree-dark);
    animation: geo-forest-sway 6s ease-in-out infinite;
}

/* Forest row 2 - closer */
.theme-geography .elem-4::after {
    bottom: -15px;
    left: 8%;
    width: 0;
    height: 0;
    border-left: 18px solid transparent;
    border-right: 18px solid transparent;
    border-bottom: 60px solid var(--geo-tree-mid);
    box-shadow:
        45px 5px 0 2px var(--geo-tree-mid),
        95px -3px 0 2px var(--geo-tree-mid),
        150px 8px 0 2px var(--geo-tree-mid),
        200px 2px 0 2px var(--geo-tree-mid),
        255px 10px 0 2px var(--geo-tree-mid),
        310px -2px 0 2px var(--geo-tree-mid),
        370px 6px 0 2px var(--geo-tree-mid),
        425px 4px 0 2px var(--geo-tree-mid),
        485px -4px 0 2px var(--geo-tree-mid),
        545px 7px 0 2px var(--geo-tree-mid);
    filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.3));
    animation: geo-forest-sway-2 7s ease-in-out infinite;
}

@keyframes geo-forest-sway {
    0%, 100% { transform: skewX(0deg); }
    50% { transform: skewX(1deg); }
}

@keyframes geo-forest-sway-2 {
    0%, 100% { transform: skewX(0deg); }
    50% { transform: skewX(-1deg); }
}

/* === PINE FOREST FOREGROUND (pine-forest) === */
.theme-geography .pine-forest {
    bottom: 18%;
    left: 0;
    width: 100%;
    z-index: 8;
}

.theme-geography .pine-forest::before {
    bottom: 0;
    left: 2%;
    width: 0;
    height: 0;
    border-left: 22px solid transparent;
    border-right: 22px solid transparent;
    border-bottom: 75px solid var(--geo-tree-light);
    box-shadow:
        60px 8px 0 3px var(--geo-tree-mid),
        130px -5px 0 3px var(--geo-tree-light),
        200px 10px 0 3px var(--geo-tree-mid),
        280px 3px 0 3px var(--geo-tree-light),
        360px -8px 0 3px var(--geo-tree-mid),
        440px 6px 0 3px var(--geo-tree-light),
        520px -3px 0 3px var(--geo-tree-mid);
    filter: drop-shadow(0 8px 15px rgba(0, 0, 0, 0.4));
}

/* Tree trunks */
.theme-geography .pine-forest::after {
    bottom: -8px;
    left: calc(2% + 18px);
    width: 8px;
    height: 15px;
    background: #5D4037;
    box-shadow:
        60px 0 0 0 #5D4037,
        130px 0 0 0 #5D4037,
        200px 0 0 0 #5D4037,
        280px 0 0 0 #5D4037,
        360px 0 0 0 #5D4037,
        440px 0 0 0 #5D4037,
        520px 0 0 0 #5D4037;
}

/* === HOT AIR BALLOON (elem-5) === */
.theme-geography .elem-5 {
    top: 15%;
    left: 12%;
    z-index: 10;
    animation: geo-balloon-float 10s ease-in-out infinite;
}

/* Balloon envelope */
.theme-geography .elem-5::before {
    top: 0;
    left: 0;
    width: 70px;
    height: 85px;
    background: linear-gradient(90deg,
        var(--geo-balloon-red) 0%,
        var(--geo-balloon-red) 25%,
        var(--geo-balloon-yellow) 25%,
        var(--geo-balloon-yellow) 50%,
        var(--geo-balloon-green) 50%,
        var(--geo-balloon-green) 75%,
        var(--geo-balloon-blue) 75%,
        var(--geo-balloon-blue) 100%);
    border-radius: 50% 50% 40% 40%;
    box-shadow:
        inset -10px 0 20px rgba(0, 0, 0, 0.2),
        inset 10px 0 20px rgba(255, 255, 255, 0.2),
        0 10px 25px rgba(0, 0, 0, 0.3);
}

/* Balloon basket */
.theme-geography .elem-5::after {
    bottom: -35px;
    left: 20px;
    width: 30px;
    height: 22px;
    background: linear-gradient(180deg, #8D6E63 0%, #6D4C41 100%);
    border-radius: 0 0 4px 4px;
    box-shadow:
        /* Ropes */
        -8px -15px 0 -9px #795548,
        38px -15px 0 -9px #795548,
        /* Basket shadow */
        0 5px 10px rgba(0, 0, 0, 0.4);
}

@keyframes geo-balloon-float {
    0%, 100% {
        transform: translateY(0) translateX(0);
    }
    25% {
        transform: translateY(-20px) translateX(10px);
    }
    50% {
        transform: translateY(-35px) translateX(5px);
    }
    75% {
        transform: translateY(-25px) translateX(15px);
    }
}

/* === DECORATIVE GLOBE (elem-5-globe) === */
.theme-geography .elem-5-globe {
    top: 8%;
    right: 30%;
    z-index: 9;
    opacity: 0.4;
    animation: geo-globe-rotate 60s linear infinite;
}

/* Globe sphere */
.theme-geography .elem-5-globe::before {
    top: 0;
    left: 0;
    width: 80px;
    height: 80px;
    background: radial-gradient(circle at 35% 35%,
        rgba(100, 181, 246, 0.6) 0%,
        rgba(66, 165, 245, 0.5) 30%,
        rgba(33, 150, 243, 0.4) 60%,
        rgba(25, 118, 210, 0.3) 100%);
    border-radius: 50%;
    box-shadow:
        inset -8px -8px 20px rgba(0, 0, 0, 0.3),
        inset 8px 8px 15px rgba(255, 255, 255, 0.2),
        /* Latitude lines */
        0 0 0 1px rgba(33, 150, 243, 0.3),
        0 18px 0 1px rgba(33, 150, 243, 0.2),
        0 -18px 0 1px rgba(33, 150, 243, 0.2),
        0 36px 0 1px rgba(33, 150, 243, 0.15),
        0 -36px 0 1px rgba(33, 150, 243, 0.15);
}

/* Globe meridian/equator */
.theme-geography .elem-5-globe::after {
    top: 38px;
    left: 0;
    width: 80px;
    height: 4px;
    background: rgba(255, 193, 7, 0.5);
    border-radius: 2px;
}

@keyframes geo-globe-rotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* === CLOUDS (elem-6) === */
.theme-geography .elem-6 {
    top: 12%;
    left: 8%;
    z-index: 11;
    animation: geo-cloud-drift 50s linear infinite;
}

/* Main cloud body */
.theme-geography .elem-6::before {
    top: 0;
    left: 0;
    width: 100px;
    height: 35px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 35px;
    box-shadow:
        25px -15px 0 5px rgba(255, 255, 255, 0.85),
        55px -10px 0 -5px rgba(255, 255, 255, 0.88),
        /* Second cloud group */
        250px 20px 0 10px rgba(255, 255, 255, 0.85),
        280px 8px 0 5px rgba(255, 255, 255, 0.8),
        310px 15px 0 -5px rgba(255, 255, 255, 0.82);
}

.theme-geography .elem-6::after {
    top: 8px;
    left: 15px;
    width: 70px;
    height: 25px;
    background: rgba(255, 255, 255, 0.85);
    border-radius: 25px;
    box-shadow:
        250px 20px 0 5px rgba(255, 255, 255, 0.8);
}

@keyframes geo-cloud-drift {
    0% { transform: translateX(0); }
    100% { transform: translateX(calc(100vw + 200px)); }
}

/* === LOW CLOUDS (elem-6-low) === */
.theme-geography .elem-6-low {
    top: 22%;
    right: 15%;
    z-index: 11;
    animation: geo-cloud-drift-2 60s linear infinite reverse;
}

.theme-geography .elem-6-low::before {
    top: 0;
    left: 0;
    width: 120px;
    height: 40px;
    background: rgba(255, 255, 255, 0.85);
    border-radius: 40px;
    box-shadow:
        30px -18px 0 8px rgba(255, 255, 255, 0.8),
        70px -12px 0 -3px rgba(255, 255, 255, 0.82);
}

@keyframes geo-cloud-drift-2 {
    0% { transform: translateX(0); }
    100% { transform: translateX(calc(-100vw - 200px)); }
}

/* === FLYING EAGLE (elem-8) === */
.theme-geography .elem-8 {
    top: 28%;
    left: -60px;
    z-index: 12;
    animation: geo-eagle-soar 30s linear infinite;
}

/* Eagle body */
.theme-geography .elem-8::before {
    top: 8px;
    left: 20px;
    width: 18px;
    height: 14px;
    background: linear-gradient(180deg, #3E2723 0%, #5D4037 100%);
    border-radius: 50% 50% 40% 40%;
    box-shadow:
        /* Head */
        -8px -2px 0 -4px #4E342E,
        /* Tail */
        14px 3px 0 -3px #5D4037;
}

/* Eagle wings */
.theme-geography .elem-8::after {
    top: 0;
    left: 0;
    width: 0;
    height: 0;
    border-left: 25px solid transparent;
    border-right: 25px solid transparent;
    border-bottom: 12px solid #4E342E;
    box-shadow:
        0 8px 0 -6px #5D4037;
    animation: geo-eagle-flap 0.8s ease-in-out infinite;
}

@keyframes geo-eagle-soar {
    0% {
        left: -60px;
        top: 28%;
    }
    25% {
        left: 25%;
        top: 22%;
    }
    50% {
        left: 55%;
        top: 25%;
    }
    75% {
        left: 80%;
        top: 20%;
    }
    100% {
        left: 110%;
        top: 18%;
    }
}

@keyframes geo-eagle-flap {
    0%, 100% { transform: scaleY(1); }
    50% { transform: scaleY(0.7); }
}

/* === BIRDS (elem-9) === */
.theme-geography .elem-9 {
    top: 35%;
    left: -10%;
    z-index: 11;
    animation: geo-birds-fly 40s linear infinite;
}

.theme-geography .elem-9::before {
    top: 0;
    left: 0;
    width: 0;
    height: 0;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-bottom: 4px solid rgba(62, 39, 35, 0.7);
    box-shadow:
        18px 5px 0 0 rgba(62, 39, 35, 0.7),
        40px -3px 0 0 rgba(62, 39, 35, 0.6),
        65px 7px 0 0 rgba(62, 39, 35, 0.7),
        90px 2px 0 0 rgba(62, 39, 35, 0.6);
}

@keyframes geo-birds-fly {
    0% { left: -15%; top: 35%; }
    100% { left: 120%; top: 28%; }
}

/* === BIRDS FLOCK 2 (birds-2) === */
.theme-geography .birds-2 {
    top: 25%;
    left: -20%;
    z-index: 11;
    animation: geo-birds-fly-2 50s linear infinite;
    animation-delay: 15s;
}

.theme-geography .birds-2::before {
    top: 0;
    left: 0;
    width: 0;
    height: 0;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-bottom: 3px solid rgba(78, 52, 46, 0.6);
    box-shadow:
        15px 4px 0 0 rgba(78, 52, 46, 0.6),
        32px -2px 0 0 rgba(78, 52, 46, 0.5),
        52px 5px 0 0 rgba(78, 52, 46, 0.6);
}

@keyframes geo-birds-fly-2 {
    0% { left: -25%; top: 25%; }
    100% { left: 115%; top: 20%; }
}

/* === GROUND GRASS (grass) === */
.theme-geography .grass {
    bottom: 0;
    left: 0;
    width: 100%;
    height: 80px;
    z-index: 9;
}

/* Grass hill */
.theme-geography .grass::before {
    bottom: 0;
    left: 0;
    width: 100%;
    height: 60px;
    background: linear-gradient(180deg,
        var(--geo-tree-mid) 0%,
        var(--geo-tree-dark) 100%);
    border-radius: 100% 100% 0 0 / 40px 40px 0 0;
}

/* Grass blades */
.theme-geography .grass::after {
    bottom: 50px;
    left: 5%;
    width: 0;
    height: 0;
    border-left: 3px solid transparent;
    border-right: 3px solid transparent;
    border-bottom: 15px solid var(--geo-tree-light);
    box-shadow:
        12px 3px 0 0 var(--geo-tree-mid),
        28px -2px 0 0 var(--geo-tree-light),
        45px 4px 0 0 var(--geo-tree-mid),
        65px -1px 0 0 var(--geo-tree-light),
        85px 3px 0 0 var(--geo-tree-mid),
        110px -3px 0 0 var(--geo-tree-light),
        135px 2px 0 0 var(--geo-tree-mid),
        160px -2px 0 0 var(--geo-tree-light),
        190px 4px 0 0 var(--geo-tree-mid),
        220px -1px 0 0 var(--geo-tree-light),
        250px 3px 0 0 var(--geo-tree-mid),
        285px -2px 0 0 var(--geo-tree-light),
        320px 2px 0 0 var(--geo-tree-mid),
        355px -3px 0 0 var(--geo-tree-light),
        395px 4px 0 0 var(--geo-tree-mid),
        435px -1px 0 0 var(--geo-tree-light),
        480px 3px 0 0 var(--geo-tree-mid),
        525px -2px 0 0 var(--geo-tree-light),
        575px 2px 0 0 var(--geo-tree-mid);
    animation: geo-grass-sway 4s ease-in-out infinite;
}

@keyframes geo-grass-sway {
    0%, 100% { transform: skewX(-2deg); }
    50% { transform: skewX(2deg); }
}

/* === SCENE PARTICLES === */
.theme-geography .scene-particles {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 15;
}

.theme-geography .scene-particles::before {
    top: 30%;
    left: 20%;
    width: 3px;
    height: 3px;
    background: rgba(255, 255, 255, 0.7);
    border-radius: 50%;
    box-shadow:
        100px 20px 0 0 rgba(255, 255, 255, 0.6),
        220px -30px 0 0 rgba(255, 255, 255, 0.7),
        350px 40px 0 0 rgba(255, 255, 255, 0.6),
        480px -15px 0 0 rgba(255, 255, 255, 0.7);
    animation: geo-dust-float 8s ease-in-out infinite;
}

@keyframes geo-dust-float {
    0%, 100% {
        transform: translateY(0) translateX(0);
        opacity: 0.5;
    }
    50% {
        transform: translateY(-15px) translateX(10px);
        opacity: 0.9;
    }
}

/* === DEPTH FOG === */
.theme-geography .depth-fog {
    bottom: 20%;
    left: 0;
    width: 100%;
    height: 100px;
    background: linear-gradient(180deg,
        transparent 0%,
        rgba(227, 242, 253, 0.15) 30%,
        rgba(255, 243, 224, 0.2) 60%,
        transparent 100%);
    z-index: 6;
    animation: geo-fog-drift 25s ease-in-out infinite;
}

@keyframes geo-fog-drift {
    0%, 100% {
        transform: translateX(0);
        opacity: 0.5;
    }
    50% {
        transform: translateX(30px);
        opacity: 0.8;
    }
}

/* === MASCOT ANIMATIONS === */
.theme-geography .worm-character.happy,
.theme-geography .bunny-character.happy,
.theme-geography .owl-character.happy,
.theme-geography .cat-character.happy,
.theme-geography .robot-character.happy {
    animation: geo-happy-explore 2.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes geo-happy-explore {
    0% { transform: scale(1) rotate(0deg) translateY(0); }
    15% { transform: scale(0.94) rotate(-10deg) translateY(6px); }
    30% { transform: scale(1.18) rotate(6deg) translateY(-28px); }
    45% { transform: scale(1.25) rotate(-4deg) translateY(-45px); filter: brightness(1.25); }
    60% { transform: scale(1.15) rotate(3deg) translateY(-35px); }
    80% { transform: scale(1.08) rotate(0deg) translateY(-12px); }
    100% { transform: scale(1) rotate(0deg) translateY(0); filter: brightness(1); }
}

.theme-geography .worm-character.sad,
.theme-geography .bunny-character.sad,
.theme-geography .owl-character.sad,
.theme-geography .cat-character.sad,
.theme-geography .robot-character.sad {
    animation: geo-sad-lost 2.8s ease-out forwards;
}

@keyframes geo-sad-lost {
    0% { transform: scale(1) rotate(0deg); filter: brightness(1) saturate(1); }
    25% { transform: scale(0.94) rotate(-10deg) translateY(10px); }
    50% { transform: scale(0.86) rotate(4deg) translateY(18px); filter: brightness(0.65) saturate(0.45); }
    100% { transform: scale(0.8) rotate(-3deg) translateY(26px); filter: brightness(0.48) saturate(0.28) sepia(0.25); }
}

.theme-geography .bunny-character.excited,
.theme-geography .cat-character.excited {
    animation: geo-excited-discovery 2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes geo-excited-discovery {
    0%, 100% { transform: translateY(0) translateX(0) rotate(0deg) scale(1); }
    20% { transform: translateY(-40px) translateX(25px) rotate(18deg) scale(1.1); }
    40% { transform: translateY(-28px) translateX(-18px) rotate(-12deg) scale(1.05); }
    60% { transform: translateY(-50px) translateX(15px) rotate(10deg) scale(1.12); }
    80% { transform: translateY(-25px) translateX(-10px) rotate(-6deg) scale(1.03); }
}

.theme-geography .owl-character.idle {
    animation: geo-owl-survey 5s ease-in-out infinite;
}

@keyframes geo-owl-survey {
    0%, 100% { transform: rotate(0deg) scale(1); }
    25% { transform: rotate(-8deg) scale(1.02); }
    75% { transform: rotate(8deg) scale(1.02); }
}

.theme-geography .robot-character.idle {
    animation: geo-robot-scan 4s ease-in-out infinite;
}

@keyframes geo-robot-scan {
    0%, 100% { transform: translateY(0); filter: brightness(1); }
    50% { transform: translateY(-5px); filter: brightness(1.1); }
}
