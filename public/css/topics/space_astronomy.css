/* ============================================
   SPACE & ASTRONOMY THEME - ULTRA CINEMATIC
   Deep space with stunning nebulae, galaxies
   Immersive cosmic experience
   ============================================ */

/* === EPIC DEEP SPACE BACKGROUND === */
.theme-space_astronomy .scene-background {
    background:
        /* Vibrant nebula clouds */
        radial-gradient(ellipse at 10% 90%, rgba(147, 51, 234, 0.7) 0%, transparent 50%),
        radial-gradient(ellipse at 90% 10%, rgba(59, 130, 246, 0.6) 0%, transparent 45%),
        radial-gradient(ellipse at 50% 50%, rgba(236, 72, 153, 0.35) 0%, transparent 60%),
        radial-gradient(ellipse at 25% 25%, rgba(34, 211, 238, 0.25) 0%, transparent 40%),
        radial-gradient(ellipse at 75% 75%, rgba(251, 146, 60, 0.2) 0%, transparent 45%),
        radial-gradient(ellipse at 40% 80%, rgba(139, 92, 246, 0.4) 0%, transparent 35%),
        /* Deep space gradient */
        linear-gradient(180deg,
            #000000 0%,
            #0a0015 15%,
            #10002b 30%,
            #1a0044 45%,
            #240060 55%,
            #1a0044 70%,
            #0a0015 85%,
            #000000 100%);
    overflow: hidden;
    animation: space-background-breathe 30s ease-in-out infinite;
}

@keyframes space-background-breathe {
    0%, 100% { filter: brightness(1) saturate(1); }
    50% { filter: brightness(1.1) saturate(1.15); }
}

/* === STUNNING 3-LAYER STARFIELD === */
.theme-space_astronomy .scene-background::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background-image:
        /* Layer 1: Bright colored stars */
        radial-gradient(2px 2px at 5% 8%, #fff 100%, transparent),
        radial-gradient(3px 3px at 12% 25%, #a5f3fc 100%, transparent),
        radial-gradient(2px 2px at 18% 12%, #fef08a 100%, transparent),
        radial-gradient(4px 4px at 25% 40%, #fff 100%, transparent),
        radial-gradient(2px 2px at 32% 18%, #c4b5fd 100%, transparent),
        radial-gradient(3px 3px at 40% 55%, #fda4af 100%, transparent),
        radial-gradient(2px 2px at 48% 8%, #fff 100%, transparent),
        radial-gradient(3px 3px at 55% 35%, #a5f3fc 100%, transparent),
        radial-gradient(2px 2px at 62% 22%, #fff 100%, transparent),
        radial-gradient(4px 4px at 70% 50%, #fef08a 100%, transparent),
        radial-gradient(2px 2px at 78% 15%, #c4b5fd 100%, transparent),
        radial-gradient(3px 3px at 85% 42%, #fff 100%, transparent),
        radial-gradient(2px 2px at 92% 28%, #fda4af 100%, transparent),
        radial-gradient(2px 2px at 8% 70%, #fff 100%, transparent),
        radial-gradient(3px 3px at 22% 82%, #a5f3fc 100%, transparent),
        radial-gradient(2px 2px at 38% 75%, #fef08a 100%, transparent),
        radial-gradient(4px 4px at 52% 88%, #fff 100%, transparent),
        radial-gradient(2px 2px at 68% 72%, #c4b5fd 100%, transparent),
        radial-gradient(3px 3px at 82% 85%, #fff 100%, transparent),
        radial-gradient(2px 2px at 95% 78%, #fda4af 100%, transparent);
    animation: space-stars-twinkle 4s ease-in-out infinite alternate;
    z-index: 1;
}

/* === DISTANT STAR DUST === */
.theme-space_astronomy .scene-background::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background-image:
        radial-gradient(1px 1px at 2% 5%, rgba(255,255,255,0.8) 100%, transparent),
        radial-gradient(1px 1px at 7% 12%, rgba(255,255,255,0.6) 100%, transparent),
        radial-gradient(1px 1px at 14% 8%, rgba(255,255,255,0.7) 100%, transparent),
        radial-gradient(1px 1px at 21% 18%, rgba(255,255,255,0.5) 100%, transparent),
        radial-gradient(1px 1px at 28% 4%, rgba(255,255,255,0.8) 100%, transparent),
        radial-gradient(1px 1px at 35% 22%, rgba(255,255,255,0.6) 100%, transparent),
        radial-gradient(1px 1px at 42% 10%, rgba(255,255,255,0.7) 100%, transparent),
        radial-gradient(1px 1px at 49% 28%, rgba(255,255,255,0.5) 100%, transparent),
        radial-gradient(1px 1px at 56% 6%, rgba(255,255,255,0.8) 100%, transparent),
        radial-gradient(1px 1px at 63% 20%, rgba(255,255,255,0.6) 100%, transparent),
        radial-gradient(1px 1px at 70% 14%, rgba(255,255,255,0.7) 100%, transparent),
        radial-gradient(1px 1px at 77% 30%, rgba(255,255,255,0.5) 100%, transparent),
        radial-gradient(1px 1px at 84% 8%, rgba(255,255,255,0.8) 100%, transparent),
        radial-gradient(1px 1px at 91% 24%, rgba(255,255,255,0.6) 100%, transparent),
        radial-gradient(1px 1px at 98% 16%, rgba(255,255,255,0.7) 100%, transparent),
        radial-gradient(1px 1px at 4% 65%, rgba(255,255,255,0.5) 100%, transparent),
        radial-gradient(1px 1px at 16% 78%, rgba(255,255,255,0.8) 100%, transparent),
        radial-gradient(1px 1px at 28% 90%, rgba(255,255,255,0.6) 100%, transparent),
        radial-gradient(1px 1px at 44% 72%, rgba(255,255,255,0.7) 100%, transparent),
        radial-gradient(1px 1px at 58% 85%, rgba(255,255,255,0.5) 100%, transparent),
        radial-gradient(1px 1px at 72% 68%, rgba(255,255,255,0.8) 100%, transparent),
        radial-gradient(1px 1px at 86% 92%, rgba(255,255,255,0.6) 100%, transparent);
    animation: space-stardust-drift 8s ease-in-out infinite alternate-reverse;
    opacity: 0.9;
    z-index: 0;
}

@keyframes space-stars-twinkle {
    0% { opacity: 0.7; filter: brightness(0.9); }
    100% { opacity: 1; filter: brightness(1.3); }
}

@keyframes space-stardust-drift {
    0% { opacity: 0.5; transform: translateY(0); }
    100% { opacity: 0.9; transform: translateY(-3px); }
}

/* === ELEMENT 1: MAJESTIC RINGED PLANET === */
.theme-space_astronomy .elem-1 {
    width: 110px;
    height: 110px;
    background:
        radial-gradient(circle at 30% 30%,
            #fbbf24 0%,
            #f59e0b 25%,
            #d97706 50%,
            #b45309 75%,
            #78350f 100%);
    border-radius: 50%;
    bottom: 18%;
    left: 5%;
    box-shadow:
        inset -30px -25px 50px rgba(0,0,0,0.7),
        inset 15px 15px 30px rgba(255,255,255,0.15),
        0 0 100px rgba(251, 191, 36, 0.6),
        0 0 200px rgba(245, 158, 11, 0.3);
    animation: space-planet-orbit 25s ease-in-out infinite;
    z-index: 5;
}

/* Outer Ring */
.theme-space_astronomy .elem-1::before {
    content: '';
    position: absolute;
    width: 200px;
    height: 50px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotateX(75deg);
    background:
        linear-gradient(90deg,
            transparent 0%,
            rgba(251,191,36,0.1) 15%,
            rgba(245,158,11,0.4) 30%,
            rgba(217,119,6,0.6) 45%,
            transparent 50%,
            rgba(217,119,6,0.6) 55%,
            rgba(245,158,11,0.4) 70%,
            rgba(251,191,36,0.1) 85%,
            transparent 100%);
    border-radius: 50%;
    box-shadow:
        0 0 30px rgba(251, 191, 36, 0.4),
        inset 0 0 40px rgba(251, 191, 36, 0.2);
    animation: space-ring-glow 4s ease-in-out infinite alternate;
}

/* Inner Ring */
.theme-space_astronomy .elem-1::after {
    content: '';
    position: absolute;
    width: 150px;
    height: 35px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotateX(75deg);
    background:
        linear-gradient(90deg,
            transparent 0%,
            rgba(180,83,9,0.3) 30%,
            rgba(120,53,15,0.5) 45%,
            transparent 50%,
            rgba(120,53,15,0.5) 55%,
            rgba(180,83,9,0.3) 70%,
            transparent 100%);
    border-radius: 50%;
}

@keyframes space-planet-orbit {
    0%, 100% { transform: translateY(0) translateX(0); }
    25% { transform: translateY(-15px) translateX(8px); }
    50% { transform: translateY(-25px) translateX(0); }
    75% { transform: translateY(-15px) translateX(-8px); }
}

@keyframes space-ring-glow {
    0% { box-shadow: 0 0 30px rgba(251, 191, 36, 0.4), inset 0 0 40px rgba(251, 191, 36, 0.2); }
    100% { box-shadow: 0 0 50px rgba(251, 191, 36, 0.7), inset 0 0 60px rgba(251, 191, 36, 0.4); }
}

/* === ELEMENT 2: SLEEK ROCKET SHIP === */
.theme-space_astronomy .elem-2 {
    width: 40px;
    height: 90px;
    background: linear-gradient(180deg,
        #ef4444 0%,
        #dc2626 40%,
        #b91c1c 70%,
        #991b1b 100%);
    border-radius: 50% 50% 15% 15% / 35% 35% 8% 8%;
    top: 12%;
    right: 10%;
    box-shadow:
        inset -10px 0 20px rgba(0,0,0,0.4),
        inset 10px 0 20px rgba(255,255,255,0.1),
        0 0 40px rgba(239, 68, 68, 0.5);
    animation: space-rocket-fly 12s ease-in-out infinite;
    z-index: 10;
}

/* Rocket Window */
.theme-space_astronomy .elem-2::before {
    content: '';
    position: absolute;
    width: 22px;
    height: 22px;
    background:
        radial-gradient(circle at 35% 35%,
            #e0f2fe,
            #7dd3fc,
            #0ea5e9);
    border-radius: 50%;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    border: 3px solid #94a3b8;
    box-shadow:
        inset -5px -5px 10px rgba(0,0,0,0.3),
        0 0 20px rgba(14, 165, 233, 0.6);
    animation: space-window-shine 3s ease-in-out infinite;
}

/* Rocket Flame */
.theme-space_astronomy .elem-2::after {
    content: '';
    position: absolute;
    bottom: -45px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-top: 50px solid #f97316;
    filter: blur(3px);
    animation: space-flame-flicker 0.1s ease-in-out infinite alternate;
}

@keyframes space-rocket-fly {
    0%, 100% { transform: translateY(0) rotate(-12deg); }
    25% { transform: translateY(-40px) rotate(-8deg); }
    50% { transform: translateY(-70px) rotate(-15deg); }
    75% { transform: translateY(-35px) rotate(-10deg); }
}

@keyframes space-window-shine {
    0%, 100% { box-shadow: inset -5px -5px 10px rgba(0,0,0,0.3), 0 0 20px rgba(14, 165, 233, 0.6); }
    50% { box-shadow: inset -5px -5px 10px rgba(0,0,0,0.3), 0 0 40px rgba(14, 165, 233, 1); }
}

@keyframes space-flame-flicker {
    0% {
        border-top-color: #f97316;
        border-top-width: 45px;
        border-left-width: 12px;
        border-right-width: 12px;
    }
    100% {
        border-top-color: #fbbf24;
        border-top-width: 55px;
        border-left-width: 18px;
        border-right-width: 18px;
    }
}

/* === ELEMENT 3: STUNNING SPIRAL GALAXY === */
.theme-space_astronomy .elem-3 {
    width: 140px;
    height: 140px;
    top: 5%;
    left: 22%;
    background:
        radial-gradient(ellipse at center,
            rgba(255,255,255,1) 0%,
            rgba(253,224,71,0.8) 8%,
            rgba(192,132,252,0.5) 25%,
            rgba(139,92,246,0.3) 40%,
            transparent 60%);
    border-radius: 50%;
    animation: space-galaxy-pulse 60s ease-in-out infinite;
    z-index: 2;
}

/* Spiral Arms */
.theme-space_astronomy .elem-3::before {
    content: '';
    position: absolute;
    width: 200%;
    height: 200%;
    top: -50%;
    left: -50%;
    background:
        conic-gradient(from 0deg at 50% 50%,
            transparent 0deg,
            rgba(192,132,252,0.5) 20deg,
            transparent 40deg,
            rgba(139,92,246,0.4) 60deg,
            transparent 80deg,
            rgba(192,132,252,0.5) 100deg,
            transparent 120deg,
            rgba(139,92,246,0.4) 140deg,
            transparent 160deg,
            rgba(192,132,252,0.5) 180deg,
            transparent 200deg,
            rgba(139,92,246,0.4) 220deg,
            transparent 240deg,
            rgba(192,132,252,0.5) 260deg,
            transparent 280deg,
            rgba(139,92,246,0.4) 300deg,
            transparent 320deg,
            rgba(192,132,252,0.5) 340deg,
            transparent 360deg);
    border-radius: 50%;
    filter: blur(5px);
    animation: space-arms-subtle 45s ease-in-out infinite;
}

/* Galaxy Core */
.theme-space_astronomy .elem-3::after {
    content: '';
    position: absolute;
    width: 25px;
    height: 25px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: radial-gradient(circle,
        #fff 0%,
        #fef08a 40%,
        #fbbf24 70%,
        transparent 100%);
    border-radius: 50%;
    box-shadow:
        0 0 30px rgba(254, 240, 138, 0.9),
        0 0 60px rgba(251, 191, 36, 0.6),
        0 0 100px rgba(245, 158, 11, 0.4);
    animation: space-core-pulse 3s ease-in-out infinite;
}

@keyframes space-galaxy-pulse {
    0%, 100% { opacity: 0.9; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.05); }
}

@keyframes space-arms-subtle {
    0%, 100% { opacity: 0.8; transform: rotate(0deg); }
    50% { opacity: 1; transform: rotate(5deg); }
}

@keyframes space-core-pulse {
    0%, 100% {
        box-shadow: 0 0 30px rgba(254, 240, 138, 0.9), 0 0 60px rgba(251, 191, 36, 0.6), 0 0 100px rgba(245, 158, 11, 0.4);
        transform: translate(-50%, -50%) scale(1);
    }
    50% {
        box-shadow: 0 0 50px rgba(254, 240, 138, 1), 0 0 100px rgba(251, 191, 36, 0.8), 0 0 150px rgba(245, 158, 11, 0.6);
        transform: translate(-50%, -50%) scale(1.1);
    }
}

/* === ELEMENT 4: SHOOTING STAR === */
.theme-space_astronomy .elem-4 {
    position: absolute;
    width: 6px;
    height: 6px;
    background: #fff;
    border-radius: 50%;
    top: 18%;
    right: 35%;
    box-shadow:
        0 0 15px #fff,
        0 0 30px #7dd3fc;
    animation: space-shooting-star 8s linear infinite;
    z-index: 15;
}

/* Star Trail */
.theme-space_astronomy .elem-4::before {
    content: '';
    position: absolute;
    width: 150px;
    height: 3px;
    right: 6px;
    top: 50%;
    transform: translateY(-50%);
    background: linear-gradient(90deg,
        transparent 0%,
        rgba(255,255,255,0.9) 100%);
    border-radius: 50%;
}

@keyframes space-shooting-star {
    0% {
        transform: translateX(0) translateY(0) rotate(-35deg);
        opacity: 0;
    }
    5% { opacity: 1; }
    35% {
        transform: translateX(-350px) translateY(180px) rotate(-35deg);
        opacity: 1;
    }
    40%, 100% {
        opacity: 0;
        transform: translateX(0) translateY(0) rotate(-35deg);
    }
}

/* === ELEMENT 5: DETAILED MOON === */
.theme-space_astronomy .elem-5 {
    width: 75px;
    height: 75px;
    background:
        radial-gradient(circle at 30% 30%,
            #f1f5f9 0%,
            #e2e8f0 35%,
            #94a3b8 70%,
            #64748b 100%);
    border-radius: 50%;
    bottom: 38%;
    right: 6%;
    box-shadow:
        inset -18px -18px 35px rgba(0,0,0,0.5),
        inset 10px 10px 20px rgba(255,255,255,0.15),
        0 0 60px rgba(241, 245, 249, 0.4),
        0 0 120px rgba(226, 232, 240, 0.2);
    animation: space-moon-float 20s ease-in-out infinite;
    z-index: 4;
}

/* Moon Craters */
.theme-space_astronomy .elem-5::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background:
        radial-gradient(circle at 28% 22%, rgba(71,85,105,0.5) 0%, rgba(71,85,105,0.5) 12%, transparent 13%),
        radial-gradient(circle at 58% 38%, rgba(51,65,85,0.4) 0%, rgba(51,65,85,0.4) 18%, transparent 19%),
        radial-gradient(circle at 72% 68%, rgba(71,85,105,0.45) 0%, rgba(71,85,105,0.45) 10%, transparent 11%),
        radial-gradient(circle at 35% 72%, rgba(51,65,85,0.35) 0%, rgba(51,65,85,0.35) 14%, transparent 15%),
        radial-gradient(circle at 18% 52%, rgba(71,85,105,0.3) 0%, rgba(71,85,105,0.3) 8%, transparent 9%);
}

/* Moon Glow */
.theme-space_astronomy .elem-5::after {
    content: '';
    position: absolute;
    width: 130%;
    height: 130%;
    top: -15%;
    left: -15%;
    background: radial-gradient(circle,
        rgba(255,255,255,0.1) 30%,
        transparent 70%);
    border-radius: 50%;
    animation: space-moon-glow 6s ease-in-out infinite;
}

@keyframes space-moon-float {
    0%, 100% { transform: translateX(0) translateY(0); }
    50% { transform: translateX(-15px) translateY(-20px); }
}

@keyframes space-moon-glow {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 1; }
}

/* === ELEMENT 6: ASTRONAUT === */
.theme-space_astronomy .elem-6 {
    width: 55px;
    height: 70px;
    bottom: 10%;
    left: 38%;
    animation: space-astronaut-float 15s ease-in-out infinite;
    z-index: 20;
}

/* Astronaut Suit */
.theme-space_astronomy .elem-6::before {
    content: '';
    position: absolute;
    width: 38px;
    height: 45px;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(180deg,
        #f1f5f9 0%,
        #e2e8f0 50%,
        #cbd5e1 100%);
    border-radius: 15px;
    box-shadow:
        inset -8px 0 15px rgba(0,0,0,0.1),
        inset 8px 0 15px rgba(255,255,255,0.4),
        0 0 25px rgba(255,255,255,0.3);
}

/* Astronaut Helmet */
.theme-space_astronomy .elem-6::after {
    content: '';
    position: absolute;
    width: 42px;
    height: 42px;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    background:
        radial-gradient(circle at 35% 35%,
            rgba(255,255,255,0.95) 0%,
            rgba(125,211,252,0.7) 40%,
            #0284c7 100%);
    border-radius: 50%;
    border: 5px solid #e2e8f0;
    box-shadow:
        inset -8px -8px 20px rgba(0,0,0,0.3),
        0 0 30px rgba(14, 165, 233, 0.5);
}

@keyframes space-astronaut-float {
    0%, 100% { transform: translateY(0) rotate(-3deg); }
    25% { transform: translateY(-25px) rotate(2deg); }
    50% { transform: translateY(-35px) rotate(-2deg); }
    75% { transform: translateY(-15px) rotate(3deg); }
}

/* === ELEMENT 7: BEAUTIFUL EARTH === */
.theme-space_astronomy .elem-7 {
    width: 50px;
    height: 50px;
    background:
        radial-gradient(circle at 35% 35%,
            #60a5fa 0%,
            #3b82f6 30%,
            #2563eb 60%,
            #1d4ed8 100%);
    border-radius: 50%;
    bottom: 58%;
    left: 15%;
    box-shadow:
        inset -12px -12px 25px rgba(0,0,0,0.5),
        0 0 40px rgba(59, 130, 246, 0.5),
        0 0 80px rgba(37, 99, 235, 0.3);
    animation: space-earth-glow 30s ease-in-out infinite;
    z-index: 3;
}

/* Continents */
.theme-space_astronomy .elem-7::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background:
        radial-gradient(ellipse at 35% 30%, #22c55e 0%, #22c55e 20%, transparent 21%),
        radial-gradient(ellipse at 60% 50%, #16a34a 0%, #16a34a 15%, transparent 16%),
        radial-gradient(ellipse at 28% 65%, #22c55e 0%, #22c55e 12%, transparent 13%),
        radial-gradient(ellipse at 55% 75%, #16a34a 0%, #16a34a 10%, transparent 11%);
    animation: space-continents-spin 25s linear infinite;
}

/* Clouds */
.theme-space_astronomy .elem-7::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255,255,255,0.7) 0%, transparent 30%),
        radial-gradient(ellipse at 70% 45%, rgba(255,255,255,0.6) 0%, transparent 25%),
        radial-gradient(ellipse at 45% 75%, rgba(255,255,255,0.5) 0%, transparent 28%);
    animation: space-clouds-swirl 18s linear infinite;
}

@keyframes space-earth-glow {
    0%, 100% {
        box-shadow: inset -12px -12px 25px rgba(0,0,0,0.5), 0 0 40px rgba(59, 130, 246, 0.5), 0 0 80px rgba(37, 99, 235, 0.3);
    }
    50% {
        box-shadow: inset -12px -12px 25px rgba(0,0,0,0.5), 0 0 60px rgba(59, 130, 246, 0.7), 0 0 120px rgba(37, 99, 235, 0.5);
    }
}

@keyframes space-continents-spin {
    0%, 100% { opacity: 0.95; }
    50% { opacity: 1; }
}

@keyframes space-clouds-swirl {
    0%, 100% { opacity: 0.7; transform: translateX(0); }
    50% { opacity: 0.9; transform: translateX(2px); }
}

/* === ELEMENT 8: BRILLIANT COMET === */
.theme-space_astronomy .elem-8 {
    width: 18px;
    height: 18px;
    background:
        radial-gradient(circle at 40% 40%,
            #fff 0%,
            #fef9c3 30%,
            #fde047 60%,
            #eab308 100%);
    border-radius: 50%;
    top: 38%;
    right: 42%;
    box-shadow:
        0 0 25px rgba(253, 224, 71, 0.9),
        0 0 50px rgba(234, 179, 8, 0.6),
        0 0 80px rgba(202, 138, 4, 0.4);
    animation: space-comet-fly 14s linear infinite;
    z-index: 12;
}

/* Main Tail */
.theme-space_astronomy .elem-8::before {
    content: '';
    position: absolute;
    width: 180px;
    height: 12px;
    left: 50%;
    top: 50%;
    transform: translateY(-50%);
    background: linear-gradient(90deg,
        rgba(253,224,71,0.9) 0%,
        rgba(250,204,21,0.6) 20%,
        rgba(234,179,8,0.4) 50%,
        rgba(161,98,7,0.2) 80%,
        transparent 100%);
    border-radius: 50%;
    filter: blur(4px);
}

/* Ion Tail */
.theme-space_astronomy .elem-8::after {
    content: '';
    position: absolute;
    width: 120px;
    height: 20px;
    left: 35%;
    top: 30%;
    transform: rotate(18deg);
    background: linear-gradient(90deg,
        rgba(147,197,253,0.5) 0%,
        rgba(96,165,250,0.3) 40%,
        transparent 100%);
    border-radius: 50%;
    filter: blur(5px);
}

@keyframes space-comet-fly {
    0% {
        transform: translateX(120px) translateY(-60px) rotate(-32deg);
        opacity: 0;
    }
    8% { opacity: 1; }
    50% {
        transform: translateX(-280px) translateY(140px) rotate(-32deg);
        opacity: 1;
    }
    58% { opacity: 0; }
    100% {
        transform: translateX(120px) translateY(-60px) rotate(-32deg);
        opacity: 0;
    }
}

/* === COSMIC AURORA EFFECT === */
.theme-space_astronomy .animation-layer::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 50%;
    bottom: 0;
    left: 0;
    background:
        linear-gradient(180deg,
            transparent 0%,
            rgba(147, 51, 234, 0.05) 30%,
            rgba(59, 130, 246, 0.08) 50%,
            rgba(34, 211, 238, 0.1) 70%,
            rgba(16, 185, 129, 0.08) 85%,
            transparent 100%);
    animation: space-aurora-wave 20s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes space-aurora-wave {
    0%, 100% {
        opacity: 0.3;
        transform: scaleY(1) translateY(0);
    }
    50% {
        opacity: 0.7;
        transform: scaleY(1.3) translateY(-5%);
    }
}

/* === FLOATING NEBULA PARTICLES === */
.theme-space_astronomy .animation-layer::after {
    content: '';
    position: absolute;
    width: 3px;
    height: 3px;
    top: 0;
    left: 0;
    background: transparent;
    box-shadow:
        /* 30 floating particles */
        10vw 15vh 0 2px rgba(192,132,252,0.7),
        25vw 8vh 0 1px rgba(251,146,60,0.6),
        40vw 22vh 0 2px rgba(34,211,238,0.8),
        55vw 12vh 0 1px rgba(253,224,71,0.7),
        70vw 28vh 0 2px rgba(192,132,252,0.6),
        85vw 18vh 0 1px rgba(236,72,153,0.8),
        15vw 42vh 0 2px rgba(34,211,238,0.7),
        30vw 55vh 0 1px rgba(251,146,60,0.6),
        45vw 38vh 0 2px rgba(192,132,252,0.8),
        60vw 48vh 0 1px rgba(253,224,71,0.6),
        75vw 62vh 0 2px rgba(236,72,153,0.7),
        90vw 45vh 0 1px rgba(34,211,238,0.8),
        8vw 72vh 0 2px rgba(251,146,60,0.7),
        22vw 85vh 0 1px rgba(192,132,252,0.6),
        38vw 78vh 0 2px rgba(253,224,71,0.8),
        52vw 92vh 0 1px rgba(34,211,238,0.6),
        68vw 82vh 0 2px rgba(236,72,153,0.7),
        82vw 88vh 0 1px rgba(192,132,252,0.8),
        95vw 75vh 0 2px rgba(251,146,60,0.6),
        5vw 35vh 0 1px rgba(253,224,71,0.7),
        18vw 58vh 0 2px rgba(34,211,238,0.6),
        35vw 32vh 0 1px rgba(236,72,153,0.8),
        48vw 68vh 0 2px rgba(192,132,252,0.7),
        62vw 25vh 0 1px rgba(251,146,60,0.6),
        78vw 52vh 0 2px rgba(253,224,71,0.8),
        88vw 35vh 0 1px rgba(34,211,238,0.7),
        12vw 88vh 0 2px rgba(236,72,153,0.6),
        28vw 45vh 0 1px rgba(192,132,252,0.8),
        58vw 75vh 0 2px rgba(251,146,60,0.7),
        72vw 15vh 0 1px rgba(253,224,71,0.6);
    animation: space-particles-float 25s ease-in-out infinite;
    pointer-events: none;
    z-index: 2;
}

@keyframes space-particles-float {
    0%, 100% {
        transform: translateY(0) translateX(0);
        opacity: 0.6;
    }
    25% {
        transform: translateY(-20px) translateX(10px);
        opacity: 0.9;
    }
    50% {
        transform: translateY(-35px) translateX(-15px);
        opacity: 0.7;
    }
    75% {
        transform: translateY(-15px) translateX(20px);
        opacity: 0.85;
    }
}

/* === PULSATING PULSAR EFFECT === */
.theme-space_astronomy .elem-3 ~ .animation-layer .pulsar-effect {
    position: absolute;
    width: 8px;
    height: 8px;
    top: 70%;
    left: 75%;
    background: #fff;
    border-radius: 50%;
    box-shadow:
        0 0 15px #fff,
        0 0 30px #a5f3fc,
        0 0 50px #22d3ee;
    animation: space-pulsar-beam 2s ease-in-out infinite;
    z-index: 5;
}

@keyframes space-pulsar-beam {
    0%, 100% {
        opacity: 0.3;
        transform: scale(1);
        box-shadow: 0 0 15px #fff, 0 0 30px #a5f3fc, 0 0 50px #22d3ee;
    }
    50% {
        opacity: 1;
        transform: scale(1.5);
        box-shadow: 0 0 25px #fff, 0 0 50px #a5f3fc, 0 0 80px #22d3ee, 0 0 120px #0891b2;
    }
}

/* === MASCOT ANIMATIONS === */
.theme-space_astronomy .worm-character.happy,
.theme-space_astronomy .bunny-character.happy,
.theme-space_astronomy .owl-character.happy,
.theme-space_astronomy .cat-character.happy,
.theme-space_astronomy .robot-character.happy {
    animation: space-launch-happy 2s var(--bounce-ease);
}

@keyframes space-launch-happy {
    0% { transform: translateY(0) scale(1); filter: brightness(1); }
    20% { transform: translateY(15px) scale(0.9); }
    50% { transform: translateY(-80px) scale(1.15); filter: brightness(1.4); }
    70% { transform: translateY(-50px) scale(1.1); }
    100% { transform: translateY(0) scale(1); filter: brightness(1); }
}

.theme-space_astronomy .worm-character.sad,
.theme-space_astronomy .bunny-character.sad,
.theme-space_astronomy .owl-character.sad,
.theme-space_astronomy .cat-character.sad,
.theme-space_astronomy .robot-character.sad {
    animation: space-drift-sad 2s ease-out forwards;
}

@keyframes space-drift-sad {
    0% { transform: translateY(0) scale(1); filter: brightness(1) saturate(1); }
    100% { transform: translateY(30px) scale(0.85) rotate(-5deg); filter: brightness(0.6) saturate(0.4); }
}

.theme-space_astronomy .worm-character.excited,
.theme-space_astronomy .bunny-character.excited,
.theme-space_astronomy .owl-character.excited,
.theme-space_astronomy .cat-character.excited,
.theme-space_astronomy .robot-character.excited {
    animation: space-spin-orbit 2s var(--bounce-ease);
}

@keyframes space-spin-orbit {
    0% { transform: translateY(0) scale(1) rotate(0deg); }
    50% { transform: translateY(-70px) scale(1.2) rotate(360deg); }
    100% { transform: translateY(0) scale(1) rotate(360deg); }
}

/* === SPACE SUIT GLOW FOR ROBOT === */
.theme-space_astronomy .robot-character.idle::before {
    content: '';
    position: absolute;
    width: 110%;
    height: 110%;
    top: -5%;
    left: -5%;
    border: 3px solid rgba(34, 211, 238, 0.4);
    border-radius: 20px;
    box-shadow: 0 0 25px rgba(34, 211, 238, 0.4);
    animation: space-suit-pulse 3s ease-in-out infinite;
}

@keyframes space-suit-pulse {
    0%, 100% { box-shadow: 0 0 25px rgba(34, 211, 238, 0.4); opacity: 0.7; }
    50% { box-shadow: 0 0 50px rgba(34, 211, 238, 0.7); opacity: 1; }
}
