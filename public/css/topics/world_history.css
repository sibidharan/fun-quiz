/* ============================================
   WORLD HISTORY THEME - PREMIUM CINEMATIC
   Journey across ancient civilizations worldwide
   Aged parchment, mysterious artifacts, epic discoveries
   ============================================ */

/* === LAYERED GRADIENT BACKGROUND === */
.theme-world_history .scene-background {
    background:
        /* Ancient artifact mystical glow */
        radial-gradient(ellipse 700px 500px at 30% 20%, rgba(255, 236, 179, 0.5), transparent),
        radial-gradient(ellipse 600px 450px at 70% 80%, rgba(215, 189, 143, 0.4), transparent),
        radial-gradient(ellipse 500px 400px at 50% 50%, rgba(188, 170, 164, 0.3), transparent),
        /* Aged parchment gradient */
        linear-gradient(180deg,
            #FFF9C4 0%,
            #FFF8E1 8%,
            #FFECB3 15%,
            #FFE082 23%,
            #F5DEB3 30%,
            #DEB887 38%,
            #D2B48C 46%,
            #C9A97B 54%,
            #BFA06F 62%,
            #A67B5B 70%,
            #8B7355 78%,
            #7A6650 86%,
            #6B5344 94%,
            #5D4037 100%);
    position: relative;
    overflow: hidden;
}

/* === FLOATING ANCIENT DUST PARTICLES === */
.theme-world_history .scene-background::before {
    content: '';
    position: absolute;
    width: 3px;
    height: 3px;
    border-radius: 50%;
    top: 0;
    left: 0;
    pointer-events: none;
    box-shadow:
        /* Upper atmosphere dust */
        8% 12% 15px 10px rgba(188, 170, 164, 0.25),
        18% 18% 12px 8px rgba(215, 189, 143, 0.2),
        32% 15% 18px 11px rgba(188, 170, 164, 0.22),
        48% 20% 14px 9px rgba(139, 90, 43, 0.18),
        62% 16% 16px 10px rgba(188, 170, 164, 0.24),
        78% 22% 13px 8px rgba(215, 189, 143, 0.2),
        88% 14% 17px 11px rgba(188, 170, 164, 0.23),
        /* Middle atmosphere */
        12% 42% 14px 9px rgba(188, 170, 164, 0.2),
        28% 38% 16px 10px rgba(215, 189, 143, 0.22),
        45% 45% 13px 8px rgba(139, 90, 43, 0.18),
        58% 40% 18px 11px rgba(188, 170, 164, 0.24),
        72% 48% 14px 9px rgba(215, 189, 143, 0.2),
        85% 43% 15px 10px rgba(188, 170, 164, 0.22),
        /* Lower atmosphere */
        15% 68% 12px 8px rgba(188, 170, 164, 0.18),
        35% 72% 14px 9px rgba(215, 189, 143, 0.2),
        52% 65% 16px 10px rgba(139, 90, 43, 0.19),
        68% 70% 13px 8px rgba(188, 170, 164, 0.2),
        82% 68% 15px 10px rgba(215, 189, 143, 0.21);
    animation: world-dust-drift 35s ease-in-out infinite;
}

@keyframes world-dust-drift {
    0%, 100% {
        opacity: 0.6;
        transform: translateY(0) translateX(0) scale(1);
    }
    25% {
        opacity: 0.8;
        transform: translateY(-15px) translateX(8px) scale(1.15);
    }
    50% {
        opacity: 0.7;
        transform: translateY(-25px) translateX(-5px) scale(1.25);
    }
    75% {
        opacity: 0.75;
        transform: translateY(-12px) translateX(10px) scale(1.1);
    }
}

/* === ANCIENT MAP GRID OVERLAY === */
.theme-world_history .scene-background::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    background:
        linear-gradient(90deg, rgba(139, 90, 43, 0.08) 1px, transparent 1px),
        linear-gradient(180deg, rgba(139, 90, 43, 0.08) 1px, transparent 1px);
    background-size: 55px 55px;
    opacity: 0.6;
    animation: world-map-fade 20s ease-in-out infinite;
}

@keyframes world-map-fade {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 0.75; }
}

/* === ELEMENT 1: EGYPTIAN PYRAMID === */
.theme-world_history .elem-1 {
    position: absolute;
    bottom: 22%;
    left: 12%;
    width: 90px;
    height: 80px;
    z-index: 10;
    pointer-events: none;
    animation: pyramid-ancient-presence 12s ease-in-out infinite;
}

/* Pyramid main structure */
.theme-world_history .elem-1::before {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border-left: 45px solid transparent;
    border-right: 45px solid transparent;
    border-bottom: 80px solid #DAA520;
    filter: drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.35))
            drop-shadow(0 0 35px rgba(218, 165, 32, 0.6));
    animation: pyramid-mystical-glow 9s ease-in-out infinite;
}

/* Pyramid shadow side */
.theme-world_history .elem-1::after {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border-left: 0 solid transparent;
    border-right: 45px solid transparent;
    border-bottom: 80px solid #B8860B;
    left: 45px;
    opacity: 0.85;
}

@keyframes pyramid-ancient-presence {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-8px) scale(1.03); }
}

@keyframes pyramid-mystical-glow {
    0%, 100% {
        filter: drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.35))
                drop-shadow(0 0 35px rgba(218, 165, 32, 0.6));
    }
    50% {
        filter: drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.35))
                drop-shadow(0 0 65px rgba(218, 165, 32, 0.9));
    }
}

/* === ELEMENT 2: MEDIEVAL CASTLE === */
.theme-world_history .elem-2 {
    position: absolute;
    top: 12%;
    right: 8%;
    width: 75px;
    height: 85px;
    z-index: 11;
    pointer-events: none;
    animation: castle-fortress-stand 14s ease-in-out infinite;
}

/* Castle with battlements */
.theme-world_history .elem-2::before {
    content: '';
    position: absolute;
    bottom: 0;
    width: 65px;
    height: 55px;
    background:
        linear-gradient(180deg, #78909C 0%, #607D8B 50%, #546E7A 100%);
    clip-path: polygon(
        0% 32%, 12% 32%, 12% 0%, 22% 0%, 22% 32%,
        38% 32%, 38% 15%, 50% 15%, 50% 32%,
        62% 32%, 62% 0%, 72% 0%, 72% 32%,
        88% 32%, 88% 15%, 100% 15%, 100% 32%,
        100% 100%, 0% 100%
    );
    left: 5px;
    filter: drop-shadow(3px 3px 12px rgba(0, 0, 0, 0.35))
            drop-shadow(0 0 30px rgba(120, 144, 156, 0.4));
    animation: castle-stone-glow 8s ease-in-out infinite;
}

/* Castle flag */
.theme-world_history .elem-2::after {
    content: '';
    position: absolute;
    width: 22px;
    height: 16px;
    top: 6px;
    left: 27px;
    background:
        linear-gradient(90deg, #D32F2F 0%, #D32F2F 35%, #C62828 35%, #C62828 100%);
    clip-path: polygon(0% 0%, 100% 0%, 88% 50%, 100% 100%, 0% 100%);
    filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.3));
    animation: castle-flag-wave 3s ease-in-out infinite;
}

@keyframes castle-fortress-stand {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-6px) rotate(0.5deg); }
}

@keyframes castle-stone-glow {
    0%, 100% {
        filter: drop-shadow(3px 3px 12px rgba(0, 0, 0, 0.35))
                drop-shadow(0 0 30px rgba(120, 144, 156, 0.4));
    }
    50% {
        filter: drop-shadow(3px 3px 12px rgba(0, 0, 0, 0.35))
                drop-shadow(0 0 50px rgba(120, 144, 156, 0.7));
    }
}

@keyframes castle-flag-wave {
    0%, 100% { transform: scaleX(1) skewY(0deg); }
    25% { transform: scaleX(0.94) skewY(4deg); }
    75% { transform: scaleX(0.96) skewY(-3deg); }
}

/* === ELEMENT 3: SPINNING COMPASS === */
.theme-world_history .elem-3 {
    position: absolute;
    top: 18%;
    left: 12%;
    width: 60px;
    height: 60px;
    z-index: 12;
    pointer-events: none;
    animation: compass-explorer-float 10s ease-in-out infinite;
}

/* Compass body */
.theme-world_history .elem-3::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        radial-gradient(circle at 40% 35%, #FFD700 0%, #DAA520 45%, #B8860B 100%);
    border-radius: 50%;
    filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.35))
            drop-shadow(0 0 30px rgba(255, 215, 0, 0.5))
            drop-shadow(inset 0 0 20px rgba(255, 255, 255, 0.3));
    animation: compass-golden-shine 6s ease-in-out infinite;
}

/* Compass needle */
.theme-world_history .elem-3::after {
    content: '';
    position: absolute;
    width: 7px;
    height: 45px;
    top: 7.5px;
    left: 50%;
    transform: translateX(-50%);
    background:
        linear-gradient(180deg,
            #F44336 0%, #F44336 50%,
            #ECEFF1 50%, #ECEFF1 100%);
    clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
    filter: drop-shadow(0 0 12px rgba(244, 67, 54, 0.6));
    animation: compass-needle-wobble 2.5s ease-in-out infinite;
}

@keyframes compass-explorer-float {
    0%, 100% { transform: translateY(0) scale(1) rotate(0deg); }
    50% { transform: translateY(-10px) scale(1.04) rotate(5deg); }
}

@keyframes compass-golden-shine {
    0%, 90%, 100% {
        filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.35))
                drop-shadow(0 0 30px rgba(255, 215, 0, 0.5));
    }
    95% {
        filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.35))
                drop-shadow(0 0 50px rgba(255, 215, 0, 1)) brightness(1.4);
    }
}

@keyframes compass-needle-wobble {
    0%, 100% { transform: translateX(-50%) rotate(0deg) scale(1); }
    50% { transform: translateX(-50%) rotate(3deg) scale(1.02); }
}

/* === ELEMENT 4: GREEK COLUMN === */
.theme-world_history .elem-4 {
    position: absolute;
    bottom: 18%;
    right: 22%;
    width: 28px;
    height: 75px;
    z-index: 8;
    pointer-events: none;
    animation: column-ancient-stand 9s ease-in-out infinite;
}

/* Column shaft with fluting */
.theme-world_history .elem-4::before {
    content: '';
    position: absolute;
    width: 22px;
    height: 60px;
    background:
        linear-gradient(90deg, #E0E0E0 0%, #FAFAFA 50%, #E0E0E0 100%),
        repeating-linear-gradient(180deg,
            transparent 0px, transparent 9px,
            rgba(189, 189, 189, 0.25) 9px, rgba(189, 189, 189, 0.25) 10px
        );
    bottom: 0;
    left: 3px;
    border-radius: 3px;
    filter: drop-shadow(3px 3px 10px rgba(0, 0, 0, 0.25))
            drop-shadow(0 0 20px rgba(224, 224, 224, 0.4));
    animation: column-marble-shimmer 7s ease-in-out infinite;
}

/* Column capital (top) */
.theme-world_history .elem-4::after {
    content: '';
    position: absolute;
    width: 28px;
    height: 14px;
    background:
        linear-gradient(180deg, #BDBDBD 0%, #E0E0E0 100%);
    top: 2px;
    border-radius: 3px;
    filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.2));
}

@keyframes column-ancient-stand {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

@keyframes column-marble-shimmer {
    0%, 100% {
        filter: drop-shadow(3px 3px 10px rgba(0, 0, 0, 0.25))
                drop-shadow(0 0 20px rgba(224, 224, 224, 0.4));
    }
    50% {
        filter: drop-shadow(3px 3px 10px rgba(0, 0, 0, 0.25))
                drop-shadow(0 0 35px rgba(224, 224, 224, 0.7)) brightness(1.15);
    }
}

/* === ELEMENT 5: EXPLORER SHIP === */
.theme-world_history .elem-5 {
    position: absolute;
    bottom: 32%;
    left: 38%;
    width: 65px;
    height: 55px;
    z-index: 9;
    pointer-events: none;
    animation: ship-voyage-waves 15s ease-in-out infinite,
               ship-rock 4s ease-in-out infinite;
}

/* Ship hull */
.theme-world_history .elem-5::before {
    content: '';
    position: absolute;
    width: 55px;
    height: 28px;
    bottom: 0;
    left: 5px;
    background:
        radial-gradient(ellipse at 50% 30%, #5D4037, #4E342E 60%, #3E2723);
    border-radius: 42% 42% 52% 52% / 32% 32% 72% 72%;
    filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.4))
            drop-shadow(0 0 25px rgba(93, 64, 55, 0.4));
}

/* Ship sail */
.theme-world_history .elem-5::after {
    content: '';
    position: absolute;
    width: 32px;
    height: 38px;
    left: 16.5px;
    top: 6px;
    background:
        linear-gradient(125deg, #ECEFF1 0%, #CFD8DC 55%, #B0BEC5 100%);
    clip-path: polygon(6% 6%, 94% 6%, 88% 94%, 12% 94%);
    filter: drop-shadow(2px 2px 10px rgba(0, 0, 0, 0.25))
            drop-shadow(0 0 20px rgba(236, 239, 241, 0.5));
    animation: ship-sail-billow 3s ease-in-out infinite;
}

@keyframes ship-voyage-waves {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(18px) rotate(3deg); }
    50% { transform: translateX(38px) rotate(0deg); }
    75% { transform: translateX(22px) rotate(-2deg); }
}

@keyframes ship-rock {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    25% { transform: translateY(-6px) rotate(-4deg); }
    75% { transform: translateY(-4px) rotate(4deg); }
}

@keyframes ship-sail-billow {
    0%, 100% { transform: scaleX(1); }
    50% { transform: scaleX(1.1); }
}

/* === DAY/NIGHT ATMOSPHERIC CYCLE === */
.theme-world_history .scene-background {
    animation: world-day-night 80s ease-in-out infinite;
}

@keyframes world-day-night {
    0%, 100% { filter: brightness(1) sepia(0.18) saturate(1.05); }
    25% { filter: brightness(1.12) sepia(0.22) saturate(1.15) hue-rotate(6deg); }
    50% { filter: brightness(0.58) sepia(0.48) saturate(0.88) hue-rotate(-14deg); }
    75% { filter: brightness(0.82) sepia(0.32) saturate(0.92) hue-rotate(-7deg); }
}

/* === MASCOT ANIMATIONS === */
.theme-world_history .worm-character.happy,
.theme-world_history .bunny-character.happy,
.theme-world_history .owl-character.happy,
.theme-world_history .cat-character.happy,
.theme-world_history .robot-character.happy {
    animation: world-happy-discover 2.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes world-happy-discover {
    0% { transform: scale(1) translateY(0) rotate(0deg); }
    20% { transform: scale(1.14) translateY(-18px) rotate(-12deg); }
    40% { transform: scale(1.24) translateY(-28px) rotate(12deg); }
    60% { transform: scale(1.18) translateY(-24px) rotate(-8deg); }
    80% { transform: scale(1.08) translateY(-12px) rotate(4deg); }
    100% { transform: scale(1) translateY(0) rotate(0deg); }
}

.theme-world_history .robot-character.excited,
.theme-world_history .owl-character.excited {
    animation: world-epic-discovery 2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes world-epic-discovery {
    0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
    25% { transform: translateY(-24px) rotate(20deg) scale(1.15); }
    50% { transform: translateY(-14px) rotate(-15deg) scale(1.18); }
    75% { transform: translateY(-28px) rotate(8deg) scale(1.12); }
}

.theme-world_history .worm-character.sad,
.theme-world_history .bunny-character.sad,
.theme-world_history .owl-character.sad,
.theme-world_history .cat-character.sad,
.theme-world_history .robot-character.sad {
    animation: world-sad-lost 2.6s ease-out forwards;
}

@keyframes world-sad-lost {
    0% { transform: scale(1) translateY(0); filter: brightness(1) saturate(1) sepia(0); }
    50% { transform: scale(0.88) translateY(12px); filter: brightness(0.78) saturate(0.65) sepia(0.25); }
    100% { transform: scale(0.82) translateY(18px); filter: brightness(0.58) saturate(0.5) sepia(0.42); }
}

.theme-world_history .owl-character.idle {
    animation: world-owl-scholar 6s ease-in-out infinite;
}

@keyframes world-owl-scholar {
    0%, 100% { transform: rotate(0deg) scale(1); }
    30% { transform: rotate(-12deg) scale(1.05); }
    70% { transform: rotate(12deg) scale(1.03); }
}
