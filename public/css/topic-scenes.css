/* ============================================
   TOPIC SCENES & UNIQUE ANIMATIONS
   Fun Quiz - 20 Unique Rich Topic Experiences
   ============================================ */

/* ============================================
   1. SPACE & ASTRONOMY
   Scene: Deep space with nebula, stars, planets, galaxies
   ============================================ */
.theme-space_astronomy .scene-background {
    background:
        radial-gradient(ellipse at 20% 80%, rgba(138, 43, 226, 0.4) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 20%, rgba(0, 150, 255, 0.3) 0%, transparent 40%),
        radial-gradient(ellipse at 50% 50%, rgba(255, 100, 150, 0.2) 0%, transparent 60%),
        linear-gradient(180deg,
            #0a0a1a 0%,
            #1a1a3e 20%,
            #2d1b4e 40%,
            #1a1a3e 60%,
            #0d0d2b 80%,
            #050510 100%);
}

/* Twinkling Stars Layer */
.theme-space_astronomy .scene-background::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background-image:
        radial-gradient(2px 2px at 5% 10%, white 100%, transparent),
        radial-gradient(2px 2px at 10% 20%, #87CEEB 100%, transparent),
        radial-gradient(1px 1px at 15% 5%, white 100%, transparent),
        radial-gradient(3px 3px at 20% 35%, #FFD700 100%, transparent),
        radial-gradient(1px 1px at 25% 15%, white 100%, transparent),
        radial-gradient(2px 2px at 30% 45%, #87CEEB 100%, transparent),
        radial-gradient(1px 1px at 35% 25%, white 100%, transparent),
        radial-gradient(2px 2px at 40% 55%, white 100%, transparent),
        radial-gradient(1px 1px at 45% 8%, #FFD700 100%, transparent),
        radial-gradient(2px 2px at 50% 70%, white 100%, transparent),
        radial-gradient(1px 1px at 55% 30%, white 100%, transparent),
        radial-gradient(3px 3px at 60% 15%, #E91E63 100%, transparent),
        radial-gradient(1px 1px at 65% 50%, white 100%, transparent),
        radial-gradient(2px 2px at 70% 25%, #87CEEB 100%, transparent),
        radial-gradient(1px 1px at 75% 65%, white 100%, transparent),
        radial-gradient(2px 2px at 80% 40%, white 100%, transparent),
        radial-gradient(1px 1px at 85% 75%, #FFD700 100%, transparent),
        radial-gradient(2px 2px at 90% 20%, white 100%, transparent),
        radial-gradient(1px 1px at 95% 55%, white 100%, transparent),
        radial-gradient(2px 2px at 12% 85%, #87CEEB 100%, transparent);
    animation: space-twinkle 3s ease-in-out infinite alternate;
}

/* Nebula Glow */
.theme-space_astronomy .scene-background::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        radial-gradient(ellipse at 70% 60%, rgba(156, 39, 176, 0.15) 0%, transparent 40%),
        radial-gradient(ellipse at 30% 30%, rgba(33, 150, 243, 0.1) 0%, transparent 35%);
    animation: space-nebula-drift 20s ease-in-out infinite alternate;
}

@keyframes space-twinkle {
    0% { opacity: 0.5; }
    50% { opacity: 0.8; }
    100% { opacity: 1; }
}

@keyframes space-nebula-drift {
    0% { transform: scale(1); }
    100% { transform: scale(1.1); }
}

/* Saturn-like Planet */
.theme-space_astronomy .elem-1 {
    width: 90px;
    height: 90px;
    background:
        radial-gradient(circle at 30% 30%, #ffcc80 0%, #ff9800 40%, #e65100 80%, #bf360c 100%);
    border-radius: 50%;
    bottom: 25%;
    left: 8%;
    box-shadow:
        inset -20px -20px 40px rgba(0,0,0,0.5),
        inset 10px 10px 20px rgba(255,255,255,0.2),
        0 0 60px rgba(255, 152, 0, 0.4),
        0 0 120px rgba(255, 152, 0, 0.2);
    animation: space-planet-float 12s ease-in-out infinite;
}

/* Planet Ring */
.theme-space_astronomy .elem-1::before {
    content: '';
    position: absolute;
    width: 150px;
    height: 35px;
    border: 5px solid transparent;
    border-top: 5px solid rgba(255, 200, 150, 0.6);
    border-radius: 50%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-25deg);
    box-shadow: 0 0 10px rgba(255, 200, 150, 0.3);
}

.theme-space_astronomy .elem-1::after {
    content: '';
    position: absolute;
    width: 140px;
    height: 30px;
    border: 3px solid transparent;
    border-bottom: 3px solid rgba(255, 200, 150, 0.4);
    border-radius: 50%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-25deg);
}

@keyframes space-planet-float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    25% { transform: translateY(-20px) rotate(3deg); }
    50% { transform: translateY(-10px) rotate(-2deg); }
    75% { transform: translateY(-15px) rotate(2deg); }
}

/* Shooting Star 1 */
.theme-space_astronomy .elem-2 {
    width: 5px;
    height: 5px;
    background: white;
    border-radius: 50%;
    top: 15%;
    right: 35%;
    box-shadow:
        0 0 10px white,
        0 0 20px white,
        -20px 0 15px rgba(255,255,255,0.8),
        -40px 0 10px rgba(255,255,255,0.5),
        -60px 0 5px rgba(255,255,255,0.3);
    animation: space-shooting-star 5s ease-in-out infinite;
}

/* Shooting Star 2 */
.theme-space_astronomy .elem-2::before {
    content: '';
    position: absolute;
    width: 4px;
    height: 4px;
    background: #87CEEB;
    border-radius: 50%;
    top: 150px;
    left: -200px;
    box-shadow:
        0 0 8px #87CEEB,
        -15px 0 12px rgba(135,206,235,0.7),
        -30px 0 8px rgba(135,206,235,0.4);
    animation: space-shooting-star-2 7s ease-in-out infinite;
    animation-delay: 2s;
}

@keyframes space-shooting-star {
    0% { transform: translate(0, 0); opacity: 0; }
    5% { opacity: 1; }
    60% { opacity: 1; }
    100% { transform: translate(-350px, 250px); opacity: 0; }
}

@keyframes space-shooting-star-2 {
    0% { transform: translate(0, 0); opacity: 0; }
    10% { opacity: 1; }
    70% { opacity: 1; }
    100% { transform: translate(-280px, 200px); opacity: 0; }
}

/* Moon with craters */
.theme-space_astronomy .elem-3 {
    width: 60px;
    height: 60px;
    background:
        radial-gradient(circle at 25% 25%, #fafafa 0%, #e0e0e0 50%, #bdbdbd 100%);
    border-radius: 50%;
    top: 12%;
    right: 12%;
    box-shadow:
        inset -10px -10px 20px rgba(0,0,0,0.3),
        inset 5px 5px 10px rgba(255,255,255,0.5),
        0 0 30px rgba(255,255,255,0.3),
        0 0 60px rgba(255,255,255,0.15);
    animation: space-moon-glow 5s ease-in-out infinite;
}

/* Moon craters */
.theme-space_astronomy .elem-3::before {
    content: '';
    position: absolute;
    width: 12px;
    height: 12px;
    background: radial-gradient(circle, #9e9e9e 0%, #bdbdbd 100%);
    border-radius: 50%;
    top: 15px;
    left: 10px;
    box-shadow:
        20px 15px 0 8px #9e9e9e,
        10px 30px 0 5px #9e9e9e;
}

@keyframes space-moon-glow {
    0%, 100% {
        box-shadow: inset -10px -10px 20px rgba(0,0,0,0.3), inset 5px 5px 10px rgba(255,255,255,0.5), 0 0 30px rgba(255,255,255,0.3), 0 0 60px rgba(255,255,255,0.15);
    }
    50% {
        box-shadow: inset -10px -10px 20px rgba(0,0,0,0.3), inset 5px 5px 10px rgba(255,255,255,0.5), 0 0 50px rgba(255,255,255,0.5), 0 0 100px rgba(255,255,255,0.25);
    }
}

/* Distant Galaxy */
.theme-space_astronomy .elem-4 {
    width: 50px;
    height: 25px;
    background:
        radial-gradient(ellipse at center, rgba(255,255,255,0.8) 0%, rgba(156,39,176,0.5) 30%, transparent 70%);
    border-radius: 50%;
    top: 40%;
    left: 25%;
    transform: rotate(45deg);
    animation: space-galaxy-spin 30s linear infinite;
}

@keyframes space-galaxy-spin {
    0% { transform: rotate(45deg); opacity: 0.7; }
    50% { transform: rotate(45deg); opacity: 1; }
    100% { transform: rotate(45deg); opacity: 0.7; }
}

/* Asteroid */
.theme-space_astronomy .elem-5 {
    width: 20px;
    height: 18px;
    background: linear-gradient(135deg, #78909c, #455a64, #37474f);
    border-radius: 40% 60% 55% 45% / 50% 45% 55% 50%;
    bottom: 45%;
    right: 25%;
    animation: space-asteroid-tumble 8s linear infinite;
}

@keyframes space-asteroid-tumble {
    0% { transform: rotate(0deg) translateX(0); }
    50% { transform: rotate(180deg) translateX(30px); }
    100% { transform: rotate(360deg) translateX(0); }
}

/* Space Happy: Astronaut Float with Jetpack */
@keyframes space-happy {
    0% { transform: translateY(0) rotate(0deg); }
    15% { transform: translateY(-70px) rotate(8deg); }
    30% { transform: translateY(-90px) rotate(-5deg) scale(1.1); }
    50% { transform: translateY(-110px) rotate(10deg) scale(1.15); }
    70% { transform: translateY(-70px) rotate(-8deg); }
    85% { transform: translateY(-40px) rotate(5deg); }
    100% { transform: translateY(0) rotate(0deg); }
}

.theme-space_astronomy .worm-character.happy {
    animation: space-happy 1.8s var(--bounce-ease);
}

/* Jetpack flames */
.theme-space_astronomy .worm-character.happy::after {
    content: '';
    position: absolute;
    bottom: -30px;
    left: 50%;
    transform: translateX(-50%);
    width: 35px;
    height: 45px;
    background:
        linear-gradient(to bottom,
            #ff6b6b 0%,
            #ffa94d 25%,
            #ffd43b 50%,
            #fff176 70%,
            transparent 100%);
    clip-path: polygon(15% 0%, 85% 0%, 100% 100%, 50% 65%, 0% 100%);
    animation: jetpack-flame 0.08s infinite alternate;
    filter: blur(1px);
}

@keyframes jetpack-flame {
    0% { height: 40px; opacity: 0.85; transform: translateX(-50%) scaleX(0.9); }
    100% { height: 50px; opacity: 1; transform: translateX(-50%) scaleX(1.1); }
}

/* Space Sad: Black Hole Spin */
@keyframes space-sad {
    0% { transform: scale(1) rotate(0deg); filter: brightness(1); }
    20% { transform: scale(0.95) rotate(60deg); filter: brightness(0.9); }
    40% { transform: scale(0.85) rotate(150deg); filter: brightness(0.7); }
    60% { transform: scale(0.7) rotate(250deg); filter: brightness(0.5); }
    80% { transform: scale(0.6) rotate(330deg); filter: brightness(0.4); }
    100% { transform: scale(0.65) rotate(360deg); filter: brightness(0.5); }
}

.theme-space_astronomy .worm-character.sad {
    animation: space-sad 1.8s ease-out forwards;
}

/* ============================================
   2. ENVIRONMENT
   Scene: Lush forest with sunbeams, fireflies, flowers
   ============================================ */
.theme-environment .scene-background {
    background:
        radial-gradient(ellipse at 80% 20%, rgba(255,255,200,0.3) 0%, transparent 30%),
        linear-gradient(180deg,
            #64B5F6 0%,
            #81D4FA 15%,
            #B2EBF2 25%,
            #C8E6C9 40%,
            #81C784 55%,
            #4CAF50 70%,
            #388E3C 85%,
            #2E7D32 100%);
}

/* Sun Rays */
.theme-environment .scene-background::before {
    content: '';
    position: absolute;
    top: 0;
    right: 10%;
    width: 150px;
    height: 150px;
    background:
        conic-gradient(from 0deg,
            transparent 0deg, rgba(255,255,200,0.2) 10deg,
            transparent 20deg, rgba(255,255,200,0.15) 30deg,
            transparent 40deg, rgba(255,255,200,0.2) 50deg,
            transparent 60deg, rgba(255,255,200,0.1) 70deg,
            transparent 80deg, rgba(255,255,200,0.2) 90deg,
            transparent 100deg);
    animation: env-sunrays 20s linear infinite;
}

@keyframes env-sunrays {
    0% { opacity: 0.8; }
    50% { opacity: 1; }
    100% { opacity: 0.8; }
}

/* Grass Layer */
.theme-environment .scene-background::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 80px;
    background:
        repeating-linear-gradient(90deg,
            #43A047 0px, #43A047 2px,
            #66BB6A 2px, #66BB6A 5px,
            #81C784 5px, #81C784 7px,
            #4CAF50 7px, #4CAF50 10px
        );
    clip-path: polygon(
        0% 100%, 0% 60%, 2% 40%, 4% 60%, 6% 30%, 8% 55%, 10% 25%, 12% 50%,
        14% 35%, 16% 55%, 18% 20%, 20% 45%, 22% 35%, 24% 50%, 26% 25%,
        28% 55%, 30% 30%, 32% 50%, 34% 40%, 36% 55%, 38% 25%, 40% 45%,
        42% 35%, 44% 55%, 46% 20%, 48% 50%, 50% 30%, 52% 55%, 54% 40%,
        56% 50%, 58% 25%, 60% 55%, 62% 35%, 64% 45%, 66% 20%, 68% 50%,
        70% 30%, 72% 55%, 74% 40%, 76% 50%, 78% 25%, 80% 55%, 82% 35%,
        84% 50%, 86% 20%, 88% 45%, 90% 35%, 92% 55%, 94% 25%, 96% 50%,
        98% 40%, 100% 55%, 100% 100%
    );
    animation: env-grass-sway 4s ease-in-out infinite;
}

@keyframes env-grass-sway {
    0%, 100% { transform: skewX(-1deg); }
    50% { transform: skewX(1deg); }
}

/* Cloud 1 - Fluffy */
.theme-environment .elem-1 {
    width: 120px;
    height: 50px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 50px;
    top: 8%;
    left: 5%;
    box-shadow:
        inset -10px -10px 20px rgba(200,200,200,0.3),
        0 10px 30px rgba(0,0,0,0.1);
    animation: env-cloud-float 25s linear infinite;
}

.theme-environment .elem-1::before {
    content: '';
    position: absolute;
    width: 60px;
    height: 60px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 50%;
    top: -30px;
    left: 20px;
    box-shadow:
        40px 5px 0 10px rgba(255,255,255,0.95),
        70px 10px 0 -5px rgba(255,255,255,0.95);
}

@keyframes env-cloud-float {
    0% { transform: translateX(-200px); }
    100% { transform: translateX(calc(100vw + 200px)); }
}

/* Big Tree with foliage */
.theme-environment .elem-2 {
    position: absolute;
    bottom: 80px;
    left: 3%;
    width: 30px;
    height: 120px;
    background: linear-gradient(90deg, #5D4037 0%, #795548 50%, #6D4C41 100%);
    border-radius: 5px;
}

/* Tree trunk texture */
.theme-environment .elem-2::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        repeating-linear-gradient(0deg,
            transparent 0px, transparent 15px,
            rgba(0,0,0,0.1) 15px, rgba(0,0,0,0.1) 17px
        );
}

/* Tree foliage */
.theme-environment .elem-2::after {
    content: '';
    position: absolute;
    top: -100px;
    left: -60px;
    width: 150px;
    height: 130px;
    background:
        radial-gradient(ellipse at 50% 80%, #2E7D32 0%, transparent 50%),
        radial-gradient(ellipse at 30% 50%, #388E3C 0%, transparent 45%),
        radial-gradient(ellipse at 70% 50%, #43A047 0%, transparent 45%),
        radial-gradient(ellipse at 50% 30%, #4CAF50 0%, transparent 40%),
        radial-gradient(ellipse at 20% 70%, #388E3C 0%, transparent 35%),
        radial-gradient(ellipse at 80% 70%, #2E7D32 0%, transparent 35%);
    animation: env-tree-rustle 5s ease-in-out infinite;
}

@keyframes env-tree-rustle {
    0%, 100% { transform: skewX(0deg) scale(1); }
    25% { transform: skewX(1deg) scale(1.02); }
    75% { transform: skewX(-1deg) scale(0.98); }
}

/* Butterfly with beautiful wings */
.theme-environment .elem-3 {
    width: 30px;
    height: 20px;
    top: 25%;
    right: 25%;
    animation: env-butterfly 12s ease-in-out infinite;
}

.theme-environment .elem-3::before,
.theme-environment .elem-3::after {
    content: '';
    position: absolute;
    width: 18px;
    height: 25px;
    background:
        linear-gradient(135deg,
            #E91E63 0%,
            #9C27B0 30%,
            #673AB7 60%,
            #3F51B5 100%);
    border-radius: 50% 50% 20% 20%;
    box-shadow: inset 0 0 10px rgba(255,255,255,0.3);
    animation: env-butterfly-wing 0.15s ease-in-out infinite alternate;
}

.theme-environment .elem-3::before {
    left: 0;
    transform-origin: right center;
}

.theme-environment .elem-3::after {
    right: 0;
    transform-origin: left center;
    background:
        linear-gradient(-135deg,
            #E91E63 0%,
            #9C27B0 30%,
            #673AB7 60%,
            #3F51B5 100%);
}

@keyframes env-butterfly {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    15% { transform: translate(40px, -30px) rotate(10deg); }
    30% { transform: translate(80px, -10px) rotate(-5deg); }
    45% { transform: translate(60px, 20px) rotate(5deg); }
    60% { transform: translate(100px, -20px) rotate(-10deg); }
    75% { transform: translate(40px, 10px) rotate(5deg); }
}

@keyframes env-butterfly-wing {
    0% { transform: rotateY(0deg) scaleY(1); }
    100% { transform: rotateY(70deg) scaleY(0.8); }
}

/* Flowers */
.theme-environment .elem-4 {
    width: 25px;
    height: 25px;
    bottom: 85px;
    left: 20%;
    background: radial-gradient(circle, #FFEB3B 30%, #FFC107 100%);
    border-radius: 50%;
    animation: env-flower-bloom 4s ease-in-out infinite;
}

.theme-environment .elem-4::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        radial-gradient(circle at 50% 0%, #FF5722 0%, #FF5722 40%, transparent 41%),
        radial-gradient(circle at 100% 50%, #FF5722 0%, #FF5722 40%, transparent 41%),
        radial-gradient(circle at 50% 100%, #FF5722 0%, #FF5722 40%, transparent 41%),
        radial-gradient(circle at 0% 50%, #FF5722 0%, #FF5722 40%, transparent 41%);
    transform: scale(1.5);
}

@keyframes env-flower-bloom {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.1) rotate(10deg); }
}

/* Fireflies */
.theme-environment .elem-5 {
    width: 8px;
    height: 8px;
    background: #FFEB3B;
    border-radius: 50%;
    bottom: 40%;
    right: 15%;
    box-shadow:
        0 0 10px #FFEB3B,
        0 0 20px #FFEB3B,
        0 0 30px rgba(255,235,59,0.5);
    animation: env-firefly 6s ease-in-out infinite;
}

.theme-environment .elem-5::before,
.theme-environment .elem-5::after {
    content: '';
    position: absolute;
    width: 6px;
    height: 6px;
    background: #C6FF00;
    border-radius: 50%;
    box-shadow: 0 0 8px #C6FF00, 0 0 15px #C6FF00;
}

.theme-environment .elem-5::before {
    top: 50px;
    left: -80px;
    animation: env-firefly 5s ease-in-out infinite reverse;
}

.theme-environment .elem-5::after {
    top: -30px;
    left: 60px;
    animation: env-firefly 7s ease-in-out infinite;
    animation-delay: 1s;
}

@keyframes env-firefly {
    0%, 100% { transform: translate(0, 0); opacity: 0.3; }
    25% { transform: translate(20px, -15px); opacity: 1; }
    50% { transform: translate(-10px, -30px); opacity: 0.5; }
    75% { transform: translate(15px, -10px); opacity: 1; }
}

/* Environment Happy: Sprout Wings & Fly */
@keyframes env-happy {
    0% { transform: translateY(0) rotate(0deg); }
    20% { transform: translateY(-30px) rotate(-8deg); }
    40% { transform: translateY(-60px) rotate(8deg) scale(1.1); }
    60% { transform: translateY(-40px) translateX(40px) rotate(-5deg); }
    80% { transform: translateY(-50px) translateX(-30px) rotate(5deg); }
    100% { transform: translateY(0) rotate(0deg); }
}

.theme-environment .worm-character.happy {
    animation: env-happy 1.8s var(--bounce-ease);
}

/* Leaf wings */
.theme-environment .worm-character.happy::before,
.theme-environment .worm-character.happy::after {
    content: '';
    position: absolute;
    width: 30px;
    height: 45px;
    background:
        linear-gradient(135deg, #A5D6A7 0%, #66BB6A 30%, #43A047 70%, #2E7D32 100%);
    border-radius: 0 85% 0 85%;
    top: 15px;
    animation: env-wing-flap 0.15s ease-in-out infinite alternate;
    box-shadow: inset 2px 2px 5px rgba(255,255,255,0.3);
}

.theme-environment .worm-character.happy::before {
    left: -20px;
    transform: rotate(-35deg);
    transform-origin: right bottom;
}

.theme-environment .worm-character.happy::after {
    right: -20px;
    transform: rotate(35deg) scaleX(-1);
    transform-origin: left bottom;
}

@keyframes env-wing-flap {
    0% { transform: rotate(-35deg); }
    100% { transform: rotate(-55deg); }
}

/* Environment Sad: Wilt like a plant */
@keyframes env-sad {
    0% { transform: scale(1) rotate(0deg); filter: saturate(1) brightness(1); }
    30% { transform: scale(0.95) rotate(-5deg); filter: saturate(0.7) brightness(0.9); }
    60% { transform: scale(0.85) rotate(-12deg) translateY(15px); filter: saturate(0.4) brightness(0.8); }
    100% { transform: scale(0.88) rotate(-10deg) translateY(12px); filter: saturate(0.5) brightness(0.85); }
}

.theme-environment .worm-character.sad {
    animation: env-sad 1.8s ease-out forwards;
}

/* Rain cloud above */
.theme-environment .worm-character.sad::after {
    content: '';
    position: absolute;
    top: -55px;
    left: 50%;
    transform: translateX(-50%);
    width: 70px;
    height: 30px;
    background: #607D8B;
    border-radius: 50px;
    box-shadow:
        20px 8px 0 -3px #546E7A,
        -18px 5px 0 -3px #546E7A,
        10px -5px 0 5px #78909C;
}

/* ============================================
   3. ANIMALS
   Scene: African Safari with golden hour lighting
   ============================================ */
.theme-animals .scene-background {
    background:
        radial-gradient(ellipse at 80% 10%, rgba(255,200,100,0.4) 0%, transparent 40%),
        linear-gradient(180deg,
            #FF6B35 0%,
            #FF8C42 15%,
            #F7931E 25%,
            #FFB347 40%,
            #FFD93D 55%,
            #FFECD2 70%,
            #DEB887 85%,
            #C4A35A 100%);
}

/* Giant Sun */
.theme-animals .scene-background::before {
    content: '';
    position: absolute;
    top: 5%;
    right: 10%;
    width: 100px;
    height: 100px;
    background:
        radial-gradient(circle,
            #FFF9C4 0%,
            #FFEB3B 30%,
            #FFC107 60%,
            rgba(255,152,0,0.5) 80%,
            transparent 100%);
    border-radius: 50%;
    box-shadow:
        0 0 80px rgba(255,235,59,0.8),
        0 0 150px rgba(255,193,7,0.5),
        0 0 250px rgba(255,152,0,0.3);
    animation: animals-sun 6s ease-in-out infinite;
}

@keyframes animals-sun {
    0%, 100% {
        box-shadow: 0 0 80px rgba(255,235,59,0.8), 0 0 150px rgba(255,193,7,0.5), 0 0 250px rgba(255,152,0,0.3);
        transform: scale(1);
    }
    50% {
        box-shadow: 0 0 100px rgba(255,235,59,0.9), 0 0 180px rgba(255,193,7,0.6), 0 0 300px rgba(255,152,0,0.4);
        transform: scale(1.05);
    }
}

/* Savanna Grass */
.theme-animals .scene-background::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 100px;
    background:
        linear-gradient(180deg, transparent 0%, #C4A35A 30%, #A1887F 100%);
}

/* Acacia Tree Silhouette */
.theme-animals .elem-1 {
    position: absolute;
    bottom: 100px;
    left: 5%;
    width: 15px;
    height: 120px;
    background: #3E2723;
}

.theme-animals .elem-1::before {
    content: '';
    position: absolute;
    top: -30px;
    left: -80px;
    width: 180px;
    height: 50px;
    background: #3E2723;
    border-radius: 100px 100px 5px 5px;
    box-shadow:
        -30px 20px 0 -10px #3E2723,
        30px 15px 0 -5px #3E2723;
}

/* Tall Grass Blades */
.theme-animals .elem-2 {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 80px;
    background:
        repeating-linear-gradient(90deg,
            transparent 0px, transparent 5px,
            #8D6E63 5px, #8D6E63 7px,
            transparent 7px, transparent 12px,
            #A1887F 12px, #A1887F 14px,
            transparent 14px, transparent 20px
        );
    clip-path: polygon(
        0% 100%, 0% 50%, 1% 20%, 2% 50%, 3% 30%, 4% 60%, 5% 25%, 6% 55%,
        7% 35%, 8% 50%, 9% 20%, 10% 45%, 11% 30%, 12% 55%, 13% 25%, 14% 50%,
        15% 40%, 16% 55%, 17% 20%, 18% 50%, 19% 30%, 20% 60%, 21% 25%,
        22% 55%, 23% 35%, 24% 50%, 25% 20%, 26% 45%, 27% 30%, 28% 55%,
        29% 25%, 30% 50%, 31% 40%, 32% 55%, 33% 20%, 34% 50%, 35% 30%,
        36% 60%, 37% 25%, 38% 55%, 39% 35%, 40% 50%, 41% 20%, 42% 45%,
        43% 30%, 44% 55%, 45% 25%, 46% 50%, 47% 40%, 48% 55%, 49% 20%,
        50% 50%, 51% 30%, 52% 60%, 53% 25%, 54% 55%, 55% 35%, 56% 50%,
        57% 20%, 58% 45%, 59% 30%, 60% 55%, 61% 25%, 62% 50%, 63% 40%,
        64% 55%, 65% 20%, 66% 50%, 67% 30%, 68% 60%, 69% 25%, 70% 55%,
        71% 35%, 72% 50%, 73% 20%, 74% 45%, 75% 30%, 76% 55%, 77% 25%,
        78% 50%, 79% 40%, 80% 55%, 81% 20%, 82% 50%, 83% 30%, 84% 60%,
        85% 25%, 86% 55%, 87% 35%, 88% 50%, 89% 20%, 90% 45%, 91% 30%,
        92% 55%, 93% 25%, 94% 50%, 95% 40%, 96% 55%, 97% 20%, 98% 50%,
        99% 30%, 100% 55%, 100% 100%
    );
    animation: animals-grass-wave 4s ease-in-out infinite;
}

@keyframes animals-grass-wave {
    0%, 100% { transform: skewX(-2deg); }
    50% { transform: skewX(2deg); }
}

/* Elephant Silhouette */
.theme-animals .elem-3 {
    width: 80px;
    height: 60px;
    background: #4E342E;
    bottom: 80px;
    left: 25%;
    border-radius: 40% 40% 30% 30%;
    opacity: 0.6;
    animation: animals-elephant-walk 8s ease-in-out infinite;
}

.theme-animals .elem-3::before {
    content: '';
    position: absolute;
    width: 35px;
    height: 45px;
    background: #4E342E;
    border-radius: 50% 50% 40% 40%;
    top: -25px;
    left: -10px;
}

/* Elephant trunk */
.theme-animals .elem-3::after {
    content: '';
    position: absolute;
    width: 12px;
    height: 40px;
    background: #4E342E;
    border-radius: 0 0 50% 50%;
    top: -5px;
    left: -20px;
    transform: rotate(-20deg);
}

@keyframes animals-elephant-walk {
    0%, 100% { transform: translateX(0); }
    50% { transform: translateX(30px); }
}

/* Flying Birds */
.theme-animals .elem-4 {
    width: 20px;
    height: 8px;
    top: 20%;
    left: 30%;
    background: transparent;
    animation: animals-bird-fly 6s ease-in-out infinite;
}

.theme-animals .elem-4::before,
.theme-animals .elem-4::after {
    content: '';
    position: absolute;
    width: 15px;
    height: 3px;
    background: #3E2723;
    border-radius: 50%;
    animation: animals-wing-flap 0.3s ease-in-out infinite alternate;
}

.theme-animals .elem-4::before {
    transform: rotate(-30deg);
    transform-origin: right center;
}

.theme-animals .elem-4::after {
    left: 10px;
    transform: rotate(30deg);
    transform-origin: left center;
}

@keyframes animals-bird-fly {
    0% { transform: translate(0, 0); }
    25% { transform: translate(50px, -20px); }
    50% { transform: translate(100px, 10px); }
    75% { transform: translate(150px, -10px); }
    100% { transform: translate(200px, 0); }
}

@keyframes animals-wing-flap {
    0% { transform: rotate(-30deg); }
    100% { transform: rotate(-50deg); }
}

/* Giraffe Silhouette */
.theme-animals .elem-5 {
    width: 25px;
    height: 90px;
    background: #5D4037;
    bottom: 80px;
    right: 15%;
    opacity: 0.5;
}

.theme-animals .elem-5::before {
    content: '';
    position: absolute;
    width: 15px;
    height: 50px;
    background: #5D4037;
    top: -45px;
    left: 5px;
    border-radius: 50% 50% 0 0;
}

/* Animals Happy: Lion Roar */
@keyframes animals-happy {
    0% { transform: scale(1) rotate(0deg); }
    15% { transform: scale(1.2) rotate(-5deg); }
    30% { transform: scale(1.3) rotate(5deg); }
    45% { transform: scale(1.35) rotate(0deg) translateY(-15px); }
    60% { transform: scale(1.2) rotate(-3deg); }
    80% { transform: scale(1.1) rotate(3deg); }
    100% { transform: scale(1) rotate(0deg); }
}

.theme-animals .worm-character.happy {
    animation: animals-happy 1.6s var(--bounce-ease);
}

/* Lion Mane */
.theme-animals .worm-character.happy::after {
    content: '';
    position: absolute;
    top: -15px;
    left: 60px;
    width: 100px;
    height: 60px;
    background:
        radial-gradient(ellipse at 50% 60%, #FF9800 0%, #F57C00 40%, transparent 60%),
        radial-gradient(ellipse at 30% 40%, #FFA726 0%, transparent 50%),
        radial-gradient(ellipse at 70% 40%, #FFB74D 0%, transparent 50%);
    border-radius: 50%;
    z-index: 5;
}

/* Animals Sad: Hide */
@keyframes animals-sad {
    0% { transform: scale(1) translateX(0); }
    30% { transform: scale(0.9) translateX(8px) rotate(-5deg); }
    60% { transform: scale(0.7) translateX(15px) rotate(-10deg); }
    100% { transform: scale(0.72) translateX(12px) rotate(-8deg); }
}

.theme-animals .worm-character.sad {
    animation: animals-sad 1.6s ease-out forwards;
}

/* ============================================
   4. TECHNOLOGY
   Scene: Futuristic cyber city with holograms
   ============================================ */
.theme-technology .scene-background {
    background:
        radial-gradient(ellipse at 50% 100%, rgba(0,188,212,0.2) 0%, transparent 50%),
        radial-gradient(ellipse at 20% 50%, rgba(156,39,176,0.15) 0%, transparent 40%),
        linear-gradient(180deg,
            #0a0a0a 0%,
            #0d1f3c 20%,
            #1a2d4d 40%,
            #0d1f3c 60%,
            #0a1628 80%,
            #050510 100%);
}

/* Neon Grid Floor */
.theme-technology .scene-background::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50%;
    background-image:
        linear-gradient(rgba(0, 255, 255, 0.15) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 255, 0.15) 1px, transparent 1px);
    background-size: 50px 50px;
    transform: perspective(500px) rotateX(60deg);
    transform-origin: bottom;
    animation: tech-grid-scroll 3s linear infinite;
}

@keyframes tech-grid-scroll {
    0% { background-position: 0 0; }
    100% { background-position: 0 50px; }
}

/* Glowing City Skyline */
.theme-technology .scene-background::after {
    content: '';
    position: absolute;
    bottom: 25%;
    left: 0;
    right: 0;
    height: 200px;
    background:
        linear-gradient(90deg,
            transparent 5%,
            #1a237e 5%, #1a237e 8%,
            transparent 8%,
            transparent 12%,
            #0d47a1 12%, #0d47a1 18%,
            transparent 18%,
            transparent 25%,
            #1565c0 25%, #1565c0 30%,
            transparent 30%,
            transparent 35%,
            #1976d2 35%, #1976d2 38%,
            transparent 38%,
            transparent 45%,
            #1e88e5 45%, #1e88e5 55%,
            transparent 55%,
            transparent 62%,
            #1976d2 62%, #1976d2 68%,
            transparent 68%,
            transparent 75%,
            #1565c0 75%, #1565c0 80%,
            transparent 80%,
            transparent 85%,
            #0d47a1 85%, #0d47a1 90%,
            transparent 90%
        );
    clip-path: polygon(
        0% 100%, 5% 100%, 5% 60%, 8% 60%, 8% 100%, 12% 100%, 12% 40%, 18% 40%, 18% 100%,
        25% 100%, 25% 30%, 30% 30%, 30% 100%, 35% 100%, 35% 50%, 38% 50%, 38% 100%,
        45% 100%, 45% 20%, 55% 20%, 55% 100%, 62% 100%, 62% 45%, 68% 45%, 68% 100%,
        75% 100%, 75% 35%, 80% 35%, 80% 100%, 85% 100%, 85% 55%, 90% 55%, 90% 100%, 100% 100%
    );
    opacity: 0.6;
}

/* Data Streams */
.theme-technology .elem-1 {
    width: 3px;
    height: 120px;
    background: linear-gradient(to bottom, transparent, #00BCD4, #00BCD4, transparent);
    left: 15%;
    top: 0;
    box-shadow: 0 0 10px #00BCD4;
    animation: tech-data-stream 2.5s linear infinite;
}

.theme-technology .elem-1::before {
    content: '';
    position: absolute;
    width: 3px;
    height: 80px;
    background: linear-gradient(to bottom, transparent, #E91E63, #E91E63, transparent);
    left: 300px;
    top: 50px;
    box-shadow: 0 0 10px #E91E63;
    animation: tech-data-stream 1.8s linear infinite;
    animation-delay: 0.8s;
}

.theme-technology .elem-1::after {
    content: '';
    position: absolute;
    width: 3px;
    height: 100px;
    background: linear-gradient(to bottom, transparent, #4CAF50, #4CAF50, transparent);
    left: 600px;
    top: 20px;
    box-shadow: 0 0 10px #4CAF50;
    animation: tech-data-stream 2s linear infinite;
    animation-delay: 1.5s;
}

@keyframes tech-data-stream {
    0% { transform: translateY(-150px); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(100vh); opacity: 0; }
}

/* Holographic Screen */
.theme-technology .elem-2 {
    width: 80px;
    height: 50px;
    background:
        linear-gradient(135deg,
            rgba(26, 35, 126, 0.8) 0%,
            rgba(13, 71, 161, 0.6) 100%);
    border: 2px solid rgba(0, 188, 212, 0.8);
    border-radius: 5px;
    bottom: 35%;
    left: 8%;
    box-shadow:
        0 0 20px rgba(0, 188, 212, 0.5),
        inset 0 0 20px rgba(0, 188, 212, 0.1);
    animation: tech-hologram-float 5s ease-in-out infinite;
    transform: perspective(200px) rotateY(-15deg);
}

.theme-technology .elem-2::before {
    content: '> SYSTEM ONLINE';
    position: absolute;
    top: 10px;
    left: 8px;
    color: #00E676;
    font-family: 'Courier New', monospace;
    font-size: 8px;
    text-shadow: 0 0 5px #00E676;
}

.theme-technology .elem-2::after {
    content: '|||||||';
    position: absolute;
    bottom: 10px;
    left: 8px;
    color: #00BCD4;
    font-family: monospace;
    font-size: 10px;
    letter-spacing: 3px;
    animation: tech-loading-bar 1s steps(7) infinite;
}

@keyframes tech-hologram-float {
    0%, 100% { transform: perspective(200px) rotateY(-15deg) translateY(0); }
    50% { transform: perspective(200px) rotateY(-10deg) translateY(-15px); }
}

@keyframes tech-loading-bar {
    0% { clip-path: inset(0 100% 0 0); }
    100% { clip-path: inset(0 0 0 0); }
}

/* Floating Binary */
.theme-technology .elem-3 {
    position: absolute;
    top: 20%;
    right: 20%;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    color: rgba(0, 255, 255, 0.4);
    animation: tech-binary-fall 8s linear infinite;
}

.theme-technology .elem-3::before {
    content: '101001010110100101';
    display: block;
    animation: tech-binary-change 0.5s steps(2) infinite;
}

@keyframes tech-binary-fall {
    0% { transform: translateY(-100px); opacity: 0; }
    10% { opacity: 0.6; }
    90% { opacity: 0.6; }
    100% { transform: translateY(100vh); opacity: 0; }
}

@keyframes tech-binary-change {
    0% { content: '101001010110100101'; }
    50% { content: '010110101001011010'; }
}

/* Drone/Bot */
.theme-technology .elem-4 {
    width: 40px;
    height: 25px;
    background: linear-gradient(180deg, #455A64, #263238);
    border-radius: 10px 10px 5px 5px;
    bottom: 50%;
    right: 15%;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    animation: tech-drone-hover 4s ease-in-out infinite;
}

.theme-technology .elem-4::before {
    content: '';
    position: absolute;
    width: 8px;
    height: 8px;
    background: #00E676;
    border-radius: 50%;
    top: 8px;
    left: 50%;
    transform: translateX(-50%);
    box-shadow: 0 0 10px #00E676;
    animation: tech-drone-eye 2s ease-in-out infinite;
}

@keyframes tech-drone-hover {
    0%, 100% { transform: translateY(0) rotate(-5deg); }
    50% { transform: translateY(-20px) rotate(5deg); }
}

@keyframes tech-drone-eye {
    0%, 100% { box-shadow: 0 0 10px #00E676; }
    50% { box-shadow: 0 0 20px #00E676, 0 0 30px #00E676; }
}

/* Particle Effect Background */
.theme-technology .elem-5 {
    width: 4px;
    height: 4px;
    background: #00BCD4;
    border-radius: 50%;
    top: 40%;
    left: 40%;
    box-shadow:
        100px 50px 0 #E91E63,
        200px -30px 0 #4CAF50,
        -80px 100px 0 #FF9800,
        150px 150px 0 #9C27B0,
        -150px -50px 0 #00BCD4;
    animation: tech-particles-float 10s ease-in-out infinite;
}

@keyframes tech-particles-float {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}

/* Technology Happy */
@keyframes tech-happy {
    0% { transform: scale(1) rotate(0deg); filter: hue-rotate(0deg) brightness(1); }
    20% { transform: scale(1.15) rotate(-8deg); filter: hue-rotate(30deg) brightness(1.2); }
    40% { transform: scale(1.2) rotate(8deg); filter: hue-rotate(60deg) brightness(1.3); }
    60% { transform: scale(1.25) rotate(0deg); filter: hue-rotate(90deg) brightness(1.2); }
    80% { transform: scale(1.15) rotate(-5deg); filter: hue-rotate(45deg) brightness(1.1); }
    100% { transform: scale(1) rotate(0deg); filter: hue-rotate(0deg) brightness(1); }
}

.theme-technology .worm-character.happy {
    animation: tech-happy 1.6s ease-in-out;
}

/* LED glow effect */
.theme-technology .worm-character.happy .worm-eye {
    background: #00E676;
    box-shadow: 0 0 20px #00E676, 0 0 40px #00E676;
}

.theme-technology .worm-character.happy::after {
    content: 'SUCCESS';
    position: absolute;
    top: -35px;
    left: 50%;
    transform: translateX(-50%);
    color: #00E676;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    font-weight: bold;
    text-shadow: 0 0 15px #00E676, 0 0 30px #00E676;
    animation: tech-text-flash 0.2s ease-in-out 5;
}

@keyframes tech-text-flash {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

/* Technology Sad: Glitch */
@keyframes tech-sad {
    0% { transform: translate(0, 0) skew(0deg); filter: saturate(1) brightness(1); }
    10% { transform: translate(-5px, 3px) skew(3deg); filter: saturate(0.4) hue-rotate(90deg) brightness(1.2); }
    20% { transform: translate(5px, -3px) skew(-3deg); filter: saturate(1) brightness(0.8); }
    30% { transform: translate(-3px, 2px) skew(2deg); filter: saturate(0.2) hue-rotate(-90deg); }
    40% { transform: translate(3px, -2px) skew(-2deg); filter: saturate(0.7) brightness(1.1); }
    50% { transform: translate(-2px, 1px) skew(1deg); filter: saturate(0.4); }
    60% { transform: translate(2px, 0) skew(0deg); filter: saturate(0.5) brightness(0.9); }
    100% { transform: translate(0, 0) skew(0deg); filter: saturate(0.5) brightness(0.85); }
}

.theme-technology .worm-character.sad {
    animation: tech-sad 1.6s ease-out forwards;
}

.theme-technology .worm-character.sad::after {
    content: 'ERROR 404';
    position: absolute;
    top: -35px;
    left: 50%;
    transform: translateX(-50%);
    color: #FF5252;
    font-family: 'Courier New', monospace;
    font-size: 14px;
    font-weight: bold;
    text-shadow: 0 0 15px #FF5252;
}

.theme-technology .worm-character.sad .worm-eye {
    background: #FF5252;
    box-shadow: 0 0 10px #FF5252;
}

/* ============================================
   5. INDIAN HISTORY
   Scene: Majestic monuments with tricolor essence
   ============================================ */
.theme-indian_history .scene-background {
    background:
        linear-gradient(180deg,
            #FF9933 0%,
            #FFB74D 15%,
            #FFCC80 25%,
            #FFFFFF 35%,
            #FFFFFF 50%,
            #E8F5E9 60%,
            #A5D6A7 70%,
            #4CAF50 85%,
            #138808 100%);
}

/* Sun Rays from corner */
.theme-indian_history .scene-background::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    width: 100%;
    height: 100%;
    background:
        conic-gradient(from 180deg at 50% 0%,
            transparent 0deg,
            rgba(255,152,0,0.1) 15deg,
            transparent 30deg,
            rgba(255,152,0,0.08) 45deg,
            transparent 60deg,
            rgba(255,152,0,0.1) 75deg,
            transparent 90deg,
            rgba(255,152,0,0.05) 105deg,
            transparent 120deg);
}

/* Taj Mahal Silhouette */
.theme-indian_history .elem-1 {
    position: absolute;
    bottom: 20%;
    left: 50%;
    transform: translateX(-50%);
    width: 120px;
    height: 100px;
    background: rgba(0, 0, 128, 0.3);
    clip-path: polygon(
        50% 0%, 55% 20%, 70% 20%, 70% 30%, 80% 30%, 80% 100%,
        20% 100%, 20% 30%, 30% 30%, 30% 20%, 45% 20%
    );
}

/* Dome */
.theme-indian_history .elem-1::before {
    content: '';
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    width: 50px;
    height: 50px;
    background: rgba(0, 0, 128, 0.3);
    border-radius: 50% 50% 0 0;
}

/* Minarets */
.theme-indian_history .elem-1::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: -30px;
    width: 15px;
    height: 80px;
    background: rgba(0, 0, 128, 0.25);
    box-shadow: 165px 0 0 rgba(0, 0, 128, 0.25);
}

/* Chakra (Ashoka Wheel) */
.theme-indian_history .elem-2 {
    width: 60px;
    height: 60px;
    border: 4px solid #000080;
    border-radius: 50%;
    top: 25%;
    left: 50%;
    transform: translateX(-50%);
    animation: indian-chakra-spin 20s linear infinite;
}

.theme-indian_history .elem-2::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        conic-gradient(
            transparent 0deg, #000080 5deg, transparent 10deg,
            transparent 15deg, #000080 20deg, transparent 25deg,
            transparent 30deg, #000080 35deg, transparent 40deg,
            transparent 45deg, #000080 50deg, transparent 55deg,
            transparent 60deg, #000080 65deg, transparent 70deg,
            transparent 75deg, #000080 80deg, transparent 85deg,
            transparent 90deg, #000080 95deg, transparent 100deg,
            transparent 105deg, #000080 110deg, transparent 115deg,
            transparent 120deg, #000080 125deg, transparent 130deg,
            transparent 135deg, #000080 140deg, transparent 145deg,
            transparent 150deg, #000080 155deg, transparent 160deg,
            transparent 165deg, #000080 170deg, transparent 175deg,
            transparent 180deg, #000080 185deg, transparent 190deg,
            transparent 195deg, #000080 200deg, transparent 205deg,
            transparent 210deg, #000080 215deg, transparent 220deg,
            transparent 225deg, #000080 230deg, transparent 235deg,
            transparent 240deg, #000080 245deg, transparent 250deg,
            transparent 255deg, #000080 260deg, transparent 265deg,
            transparent 270deg, #000080 275deg, transparent 280deg,
            transparent 285deg, #000080 290deg, transparent 295deg,
            transparent 300deg, #000080 305deg, transparent 310deg,
            transparent 315deg, #000080 320deg, transparent 325deg,
            transparent 330deg, #000080 335deg, transparent 340deg,
            transparent 345deg, #000080 350deg, transparent 355deg
        );
    border-radius: 50%;
}

@keyframes indian-chakra-spin {
    0% { transform: translateX(-50%) rotate(0deg); }
    100% { transform: translateX(-50%) rotate(15deg); }
}

/* Peacock feather elements */
.theme-indian_history .elem-3 {
    width: 30px;
    height: 60px;
    background:
        radial-gradient(ellipse at 50% 20%, #1565C0 0%, #1565C0 15%, #4CAF50 16%, #4CAF50 30%, #FFEB3B 31%, #FFEB3B 40%, transparent 41%);
    border-radius: 50% 50% 50% 50% / 70% 70% 30% 30%;
    top: 15%;
    left: 15%;
    transform: rotate(-30deg);
    animation: indian-feather-sway 4s ease-in-out infinite;
}

.theme-indian_history .elem-3::after {
    content: '';
    position: absolute;
    width: 25px;
    height: 50px;
    background:
        radial-gradient(ellipse at 50% 20%, #1565C0 0%, #1565C0 15%, #4CAF50 16%, #4CAF50 30%, #FFEB3B 31%, #FFEB3B 40%, transparent 41%);
    border-radius: 50% 50% 50% 50% / 70% 70% 30% 30%;
    top: 10px;
    left: 50px;
    transform: rotate(15deg);
}

@keyframes indian-feather-sway {
    0%, 100% { transform: rotate(-30deg); }
    50% { transform: rotate(-25deg) translateY(-5px); }
}

/* Flying birds */
.theme-indian_history .elem-4 {
    width: 15px;
    height: 5px;
    top: 20%;
    right: 25%;
    animation: indian-birds-fly 10s linear infinite;
}

.theme-indian_history .elem-4::before,
.theme-indian_history .elem-4::after {
    content: '';
    position: absolute;
    width: 10px;
    height: 2px;
    background: #000080;
    border-radius: 50%;
}

.theme-indian_history .elem-4::before {
    transform: rotate(-25deg);
}

.theme-indian_history .elem-4::after {
    left: 8px;
    transform: rotate(25deg);
}

@keyframes indian-birds-fly {
    0% { transform: translate(0, 0); }
    100% { transform: translate(200px, -50px); }
}

/* Diyas */
.theme-indian_history .elem-5 {
    width: 25px;
    height: 15px;
    background: #FF9800;
    border-radius: 50% 50% 50% 50% / 0% 0% 100% 100%;
    bottom: 25%;
    right: 20%;
}

.theme-indian_history .elem-5::before {
    content: '';
    position: absolute;
    top: -15px;
    left: 50%;
    transform: translateX(-50%);
    width: 8px;
    height: 15px;
    background: linear-gradient(to top, #FF9800, #FFEB3B, #FFF9C4, transparent);
    border-radius: 50% 50% 20% 20%;
    animation: indian-flame-flicker 0.3s ease-in-out infinite alternate;
}

@keyframes indian-flame-flicker {
    0% { transform: translateX(-50%) scaleY(1) skewX(-2deg); }
    100% { transform: translateX(-50%) scaleY(1.1) skewX(2deg); }
}

/* Indian History Happy */
@keyframes indian-happy {
    0% { transform: scale(1) rotate(0deg); }
    20% { transform: scale(1.2) rotate(-5deg) translateY(-20px); }
    40% { transform: scale(1.25) rotate(5deg) translateY(-30px); }
    60% { transform: scale(1.2) rotate(-3deg) translateY(-20px); }
    80% { transform: scale(1.1) rotate(3deg) translateY(-10px); }
    100% { transform: scale(1) rotate(0deg); }
}

.theme-indian_history .worm-character.happy {
    animation: indian-happy 1.8s var(--bounce-ease);
}

/* Flag wave effect */
.theme-indian_history .worm-character.happy::after {
    content: '';
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    width: 50px;
    height: 30px;
    background: linear-gradient(180deg, #FF9933 33%, #FFFFFF 33%, #FFFFFF 66%, #138808 66%);
    border-radius: 2px;
    animation: indian-flag-wave 0.5s ease-in-out infinite;
}

@keyframes indian-flag-wave {
    0%, 100% { transform: translateX(-50%) skewY(0deg); }
    25% { transform: translateX(-50%) skewY(3deg); }
    75% { transform: translateX(-50%) skewY(-3deg); }
}

/* Indian History Sad */
@keyframes indian-sad {
    0% { transform: scale(1) rotate(0deg); filter: sepia(0) brightness(1); }
    50% { transform: scale(0.9) rotate(-5deg) translateY(10px); filter: sepia(0.5) brightness(0.8); }
    100% { transform: scale(0.88) rotate(-3deg) translateY(8px); filter: sepia(0.3) brightness(0.85); }
}

.theme-indian_history .worm-character.sad {
    animation: indian-sad 1.8s ease-out forwards;
}

/* ============================================
   Continue with remaining themes...
   Due to length, I'll add key improvements to each
   ============================================ */

/* 6. TAMIL HISTORY - Temple with lotuses */
.theme-tamil_history .scene-background {
    background:
        radial-gradient(ellipse at 30% 80%, rgba(233,30,99,0.2) 0%, transparent 40%),
        linear-gradient(180deg,
            #FFE0B2 0%,
            #FFCC80 20%,
            #FFB74D 35%,
            #FF9800 50%,
            #F57C00 65%,
            #8D6E63 80%,
            #5D4037 100%);
}

.theme-tamil_history .elem-1 {
    position: absolute;
    bottom: 10%;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    height: 150px;
    background: linear-gradient(180deg, #5D4037, #4E342E);
    clip-path: polygon(
        50% 0%, 45% 15%, 30% 15%, 30% 30%, 20% 30%, 20% 45%,
        10% 45%, 10% 100%, 90% 100%, 90% 45%, 80% 45%, 80% 30%,
        70% 30%, 70% 15%, 55% 15%
    );
}

/* Lotus in pond */
.theme-tamil_history .elem-2 {
    width: 40px;
    height: 25px;
    bottom: 5%;
    left: 20%;
    background:
        radial-gradient(ellipse at 50% 100%, #E91E63 0%, #E91E63 30%, #EC407A 31%, #EC407A 50%, transparent 51%);
    animation: tamil-lotus-bloom 4s ease-in-out infinite;
}

.theme-tamil_history .elem-2::before {
    content: '';
    position: absolute;
    width: 50px;
    height: 20px;
    background: rgba(76, 175, 80, 0.5);
    border-radius: 50%;
    top: 20px;
    left: -5px;
}

@keyframes tamil-lotus-bloom {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

/* Classical dancer silhouette */
.theme-tamil_history .elem-3 {
    width: 40px;
    height: 80px;
    background: #5D4037;
    bottom: 15%;
    right: 15%;
    clip-path: polygon(50% 0%, 40% 15%, 20% 25%, 10% 45%, 30% 50%, 25% 100%, 35% 100%, 40% 60%, 50% 65%, 60% 60%, 65% 100%, 75% 100%, 70% 50%, 90% 45%, 80% 25%, 60% 15%);
    opacity: 0.6;
    animation: tamil-dancer 3s ease-in-out infinite;
}

@keyframes tamil-dancer {
    0%, 100% { transform: scaleX(1); }
    50% { transform: scaleX(-1); }
}

.theme-tamil_history .worm-character.happy {
    animation: tamil-happy 1.8s var(--bounce-ease);
}

@keyframes tamil-happy {
    0%, 100% { transform: scale(1) rotate(0deg); }
    25% { transform: scale(1.1) rotate(-10deg) translateX(-10px); }
    50% { transform: scale(1.2) rotate(10deg) translateX(10px); }
    75% { transform: scale(1.1) rotate(-5deg); }
}

.theme-tamil_history .worm-character.sad {
    animation: tamil-sad 1.8s ease-out forwards;
}

@keyframes tamil-sad {
    0% { transform: scale(1); filter: brightness(1); }
    100% { transform: scale(0.85) translateY(10px); filter: brightness(0.7) sepia(0.3); }
}

/* 7-20: Similar rich enhancements for remaining themes */
/* Due to space, adding key visual elements for each */

/* WORLD HISTORY */
.theme-world_history .scene-background {
    background:
        radial-gradient(ellipse at 30% 30%, rgba(33,150,243,0.3) 0%, transparent 50%),
        linear-gradient(180deg, #E3F2FD 0%, #BBDEFB 30%, #90CAF9 60%, #5D4037 100%);
}

.theme-world_history .elem-1 {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background:
        radial-gradient(circle at 30% 30%, #4CAF50 0%, #4CAF50 10%, #2196F3 11%, #2196F3 100%);
    top: 15%;
    left: 10%;
    box-shadow: inset -10px -10px 30px rgba(0,0,0,0.3);
    animation: world-globe-rotate 30s linear infinite;
}

@keyframes world-globe-rotate {
    0% { background-position: 0% 50%; }
    100% { background-position: 200% 50%; }
}

.theme-world_history .worm-character.happy {
    animation: world-happy 1.6s var(--bounce-ease);
}

@keyframes world-happy {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.2) rotate(360deg); }
}

/* SCIENCE NATURE */
.theme-science_nature .scene-background {
    background:
        linear-gradient(180deg, #E8EAF6 0%, #C5CAE9 30%, #9FA8DA 60%, #7986CB 100%);
}

.theme-science_nature .elem-1 {
    width: 60px;
    height: 80px;
    background: rgba(103, 58, 183, 0.3);
    border: 3px solid rgba(103, 58, 183, 0.6);
    border-radius: 0 0 30px 30px;
    bottom: 20%;
    left: 10%;
}

.theme-science_nature .elem-1::after {
    content: '';
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 40px;
    background:
        radial-gradient(circle, #E91E63 20%, transparent 21%),
        radial-gradient(circle at 30% 30%, #4CAF50 15%, transparent 16%),
        radial-gradient(circle at 70% 70%, #2196F3 15%, transparent 16%);
    animation: science-bubbles 2s ease-in-out infinite;
}

@keyframes science-bubbles {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50% { transform: translateX(-50%) translateY(-10px); }
}

.theme-science_nature .worm-character.happy {
    animation: science-happy 1.6s var(--bounce-ease);
}

@keyframes science-happy {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.25) translateY(-20px); }
}

/* GEOGRAPHY */
.theme-geography .scene-background {
    background:
        linear-gradient(180deg,
            #87CEEB 0%, #B3E5FC 20%,
            #81D4FA 40%, #4DB6AC 60%,
            #4CAF50 75%, #388E3C 90%,
            #1B5E20 100%);
}

.theme-geography .elem-1 {
    position: absolute;
    bottom: 30%;
    left: 5%;
    width: 0;
    height: 0;
    border-left: 60px solid transparent;
    border-right: 60px solid transparent;
    border-bottom: 100px solid #5D4037;
}

.theme-geography .elem-1::before {
    content: '';
    position: absolute;
    top: 0;
    left: -30px;
    width: 0;
    height: 0;
    border-left: 30px solid transparent;
    border-right: 30px solid transparent;
    border-bottom: 50px solid #FAFAFA;
}

/* SPORTS */
.theme-sports .scene-background {
    background:
        linear-gradient(180deg, #1565C0 0%, #1976D2 30%, #4CAF50 50%, #43A047 100%);
}

.theme-sports .scene-background::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 60%;
    background:
        repeating-linear-gradient(90deg,
            #43A047 0px, #43A047 50px,
            #4CAF50 50px, #4CAF50 100px
        );
}

.theme-sports .elem-1 {
    width: 60px;
    height: 60px;
    background: radial-gradient(circle at 30% 30%, #FFFFFF, #BDBDBD);
    border-radius: 50%;
    bottom: 40%;
    right: 20%;
    box-shadow: inset -5px -5px 15px rgba(0,0,0,0.3);
    animation: sports-ball-bounce 1s ease-in-out infinite;
}

@keyframes sports-ball-bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-30px); }
}

/* MATHEMATICS */
.theme-mathematics .scene-background {
    background:
        linear-gradient(180deg, #263238 0%, #37474F 50%, #455A64 100%);
}

.theme-mathematics .scene-background::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background-image:
        linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px);
    background-size: 30px 30px;
}

.theme-mathematics .elem-1 {
    position: absolute;
    top: 20%;
    left: 15%;
    color: rgba(255,255,255,0.3);
    font-size: 40px;
    font-family: serif;
    animation: math-float 5s ease-in-out infinite;
}

.theme-mathematics .elem-1::before {
    content: 'E=mc2';
}

@keyframes math-float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(5deg); }
}

/* INDIAN CULTURE */
.theme-indian_culture .scene-background {
    background:
        radial-gradient(ellipse at 50% 50%, rgba(255,193,7,0.3) 0%, transparent 50%),
        linear-gradient(180deg, #4A148C 0%, #7B1FA2 30%, #9C27B0 50%, #E91E63 80%, #FF5722 100%);
}

.theme-indian_culture .elem-1 {
    width: 30px;
    height: 20px;
    background: #FF9800;
    border-radius: 50% 50% 0 0;
    bottom: 15%;
    left: 20%;
}

.theme-indian_culture .elem-1::before {
    content: '';
    position: absolute;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
    width: 10px;
    height: 25px;
    background: linear-gradient(to top, #FF9800, #FFEB3B, transparent);
    border-radius: 50%;
    animation: culture-diya-flame 0.2s ease-in-out infinite alternate;
}

@keyframes culture-diya-flame {
    0% { transform: translateX(-50%) skewX(-3deg); }
    100% { transform: translateX(-50%) skewX(3deg); }
}

/* FAMOUS PEOPLE */
.theme-famous_people .scene-background {
    background:
        radial-gradient(ellipse at 50% 30%, rgba(255,215,0,0.3) 0%, transparent 40%),
        linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
}

.theme-famous_people .elem-1 {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #FFD700, #FFA000);
    clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
    top: 20%;
    right: 20%;
    animation: famous-star-glow 2s ease-in-out infinite;
}

@keyframes famous-star-glow {
    0%, 100% {
        filter: drop-shadow(0 0 10px #FFD700);
        transform: scale(1) rotate(0deg);
    }
    50% {
        filter: drop-shadow(0 0 30px #FFD700);
        transform: scale(1.1) rotate(10deg);
    }
}

/* CURRENT AFFAIRS */
.theme-current_affairs .scene-background {
    background:
        linear-gradient(180deg, #B71C1C 0%, #C62828 20%, #D32F2F 40%, #E0E0E0 50%, #F5F5F5 60%, #1565C0 80%, #0D47A1 100%);
}

.theme-current_affairs .elem-1 {
    width: 100%;
    height: 30px;
    background: #C62828;
    bottom: 10%;
    left: 0;
    overflow: hidden;
}

.theme-current_affairs .elem-1::before {
    content: 'BREAKING NEWS * QUIZ TIME * STAY INFORMED * ';
    position: absolute;
    white-space: nowrap;
    color: white;
    font-weight: bold;
    font-size: 14px;
    line-height: 30px;
    animation: news-ticker 15s linear infinite;
}

@keyframes news-ticker {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
}

/* MYTHOLOGY */
.theme-mythology .scene-background {
    background:
        radial-gradient(ellipse at 50% 20%, rgba(255,215,0,0.4) 0%, transparent 40%),
        linear-gradient(180deg, #FFF8E1 0%, #FFECB3 20%, #FFD54F 40%, #FF8F00 60%, #E65100 80%, #BF360C 100%);
}

.theme-mythology .elem-1 {
    width: 60px;
    height: 80px;
    background: linear-gradient(180deg, #FFD700 0%, #FF8F00 100%);
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    top: 15%;
    left: 50%;
    transform: translateX(-50%);
    box-shadow: 0 0 50px rgba(255,215,0,0.6);
    animation: myth-divine-glow 3s ease-in-out infinite;
}

@keyframes myth-divine-glow {
    0%, 100% { box-shadow: 0 0 50px rgba(255,215,0,0.6); }
    50% { box-shadow: 0 0 100px rgba(255,215,0,0.9); }
}

/* LITERATURE */
.theme-literature .scene-background {
    background:
        linear-gradient(180deg, #3E2723 0%, #4E342E 30%, #5D4037 50%, #6D4C41 70%, #8D6E63 100%);
}

.theme-literature .elem-1 {
    width: 60px;
    height: 80px;
    background: linear-gradient(90deg, #F44336, #E53935, #D32F2F);
    bottom: 20%;
    left: 15%;
    border-radius: 3px 10px 10px 3px;
    box-shadow: -3px 0 0 #B71C1C, 3px 3px 10px rgba(0,0,0,0.5);
    animation: lit-book-hover 4s ease-in-out infinite;
}

.theme-literature .elem-1::before {
    content: 'QUIZ';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-90deg);
    color: #FFD700;
    font-weight: bold;
    font-size: 12px;
}

@keyframes lit-book-hover {
    0%, 100% { transform: rotate(-5deg); }
    50% { transform: rotate(5deg) translateY(-10px); }
}

/* MUSIC ARTS */
.theme-music_arts .scene-background {
    background:
        linear-gradient(135deg,
            #E91E63 0%, #9C27B0 25%,
            #673AB7 50%, #3F51B5 75%,
            #2196F3 100%);
}

.theme-music_arts .elem-1 {
    position: absolute;
    font-size: 40px;
    top: 20%;
    left: 20%;
    animation: music-note-float 4s ease-in-out infinite;
}

.theme-music_arts .elem-1::before {
    content: '';
    color: rgba(255,255,255,0.7);
}

.theme-music_arts .elem-1::after {
    content: '';
    position: absolute;
    left: 80px;
    top: 30px;
    font-size: 50px;
    color: rgba(255,255,255,0.5);
    animation: music-note-float 3s ease-in-out infinite reverse;
}

@keyframes music-note-float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-30px) rotate(15deg); }
}

/* FOOD NUTRITION */
.theme-food_nutrition .scene-background {
    background:
        linear-gradient(180deg, #FFF8E1 0%, #FFECB3 30%, #FFE082 50%, #FFCA28 70%, #FFA000 100%);
}

.theme-food_nutrition .elem-1 {
    width: 50px;
    height: 50px;
    background: radial-gradient(circle at 30% 30%, #F44336, #D32F2F, #B71C1C);
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
    top: 25%;
    left: 20%;
    animation: food-bounce 2s ease-in-out infinite;
}

.theme-food_nutrition .elem-1::before {
    content: '';
    position: absolute;
    top: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 8px;
    height: 15px;
    background: #4CAF50;
    border-radius: 50%;
}

@keyframes food-bounce {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-15px) rotate(10deg); }
}

/* INVENTIONS */
.theme-inventions .scene-background {
    background:
        linear-gradient(180deg, #37474F 0%, #455A64 30%, #546E7A 50%, #78909C 70%, #90A4AE 100%);
}

.theme-inventions .elem-1 {
    width: 50px;
    height: 70px;
    background:
        radial-gradient(ellipse at 50% 30%, #FFF9C4 0%, #FFF9C4 20%, transparent 21%),
        linear-gradient(180deg, transparent 30%, #FFEB3B 30%, #FFEB3B 50%, #78909C 50%);
    border-radius: 50% 50% 10% 10%;
    top: 20%;
    right: 20%;
    box-shadow: 0 0 30px rgba(255,235,59,0.5);
    animation: invention-lightbulb 2s ease-in-out infinite;
}

@keyframes invention-lightbulb {
    0%, 100% { box-shadow: 0 0 30px rgba(255,235,59,0.5); }
    50% { box-shadow: 0 0 60px rgba(255,235,59,0.9); }
}

/* MONUMENTS */
.theme-monuments .scene-background {
    background:
        linear-gradient(180deg, #87CEEB 0%, #B3E5FC 30%, #E1F5FE 50%, #ECEFF1 70%, #CFD8DC 100%);
}

.theme-monuments .elem-1 {
    position: absolute;
    bottom: 15%;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 120px;
    background: #90A4AE;
    clip-path: polygon(10% 100%, 20% 80%, 20% 60%, 30% 60%, 30% 40%, 40% 40%, 40% 20%, 50% 0%, 60% 20%, 60% 40%, 70% 40%, 70% 60%, 80% 60%, 80% 80%, 90% 100%);
    box-shadow: 5px 5px 20px rgba(0,0,0,0.3);
}

/* Default happy/sad for themes without specific */
.worm-character.happy {
    animation: happy-jump-base 1.5s var(--bounce-ease);
}

.worm-character.sad {
    animation: sad-droop-base 1.5s ease-out forwards;
}

/* Ensure all elements are properly positioned */
.scene-element {
    position: absolute;
    pointer-events: none;
}
